/*! For license information please see commons.js.LICENSE.txt */
(self.webpackChunkwcStripeBlocks=self.webpackChunkwcStripeBlocks||[]).push([[223],{2926:function(e,t,n){!function(e,t){"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var l,p,d,m,f={exports:{}};f.exports=function(){if(m)return d;m=1;var e=p?l:(p=1,l="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");function t(){}function n(){}return n.resetWarningCache=t,d=function(){function r(t,n,r,a,o,i){if(i!==e){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function a(){return r}r.isRequired=r;var o={array:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:t};return o.PropTypes=o,o}}()();var y=u(f.exports),h=function(e,n,r){var a=!!r,o=t.useRef(r);t.useEffect((function(){o.current=r}),[r]),t.useEffect((function(){if(!a||!e)return function(){};var t=function(){o.current&&o.current.apply(o,arguments)};return e.on(n,t),function(){e.off(n,t)}}),[a,n,e,o])},g=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e}),[e]),n.current},b=function(e){return null!==e&&"object"===a(e)},v="[object Object]",P=function e(t,n){if(!b(t)||!b(n))return t===n;var r=Array.isArray(t);if(r!==Array.isArray(n))return!1;var a=Object.prototype.toString.call(t)===v;if(a!==(Object.prototype.toString.call(n)===v))return!1;if(!a&&!r)return t===n;var o=Object.keys(t),i=Object.keys(n);if(o.length!==i.length)return!1;for(var s={},c=0;c<o.length;c+=1)s[o[c]]=!0;for(var u=0;u<i.length;u+=1)s[i[u]]=!0;var l=Object.keys(s);if(l.length!==o.length)return!1;var p=t,d=n;return l.every((function(t){return e(p[t],d[t])}))},E=function(e,t,n){return b(e)?Object.keys(e).reduce((function(a,i){var s=!b(t)||!P(e[i],t[i]);return n.includes(i)?(s&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),a):s?r(r({},a||{}),{},o({},i,e[i])):a}),null):null},O="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",S=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O;if(null===e||b(t=e)&&"function"==typeof t.elements&&"function"==typeof t.createToken&&"function"==typeof t.createPaymentMethod&&"function"==typeof t.confirmCardPayment)return e;throw new Error(n)},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O;if(function(e){return b(e)&&"function"==typeof e.then}(e))return{tag:"async",stripePromise:Promise.resolve(e).then((function(e){return S(e,t)}))};var n=S(e,t);return null===n?{tag:"empty"}:{tag:"sync",stripe:n}},C=function(e){e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"2.7.0"}),e.registerAppInfo({name:"react-stripe-js",version:"2.7.0",url:"https://stripe.com/docs/stripe-js/react"}))},M=t.createContext(null);M.displayName="ElementsContext";var w=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},k=function(e){var n=e.stripe,r=e.options,a=e.children,o=t.useMemo((function(){return _(n)}),[n]),i=s(t.useState((function(){return{stripe:"sync"===o.tag?o.stripe:null,elements:"sync"===o.tag?o.stripe.elements(r):null}})),2),c=i[0],u=i[1];t.useEffect((function(){var e=!0,t=function(e){u((function(t){return t.stripe?t:{stripe:e,elements:e.elements(r)}}))};return"async"!==o.tag||c.stripe?"sync"!==o.tag||c.stripe||t(o.stripe):o.stripePromise.then((function(n){n&&e&&t(n)})),function(){e=!1}}),[o,c,r]);var l=g(n);t.useEffect((function(){null!==l&&l!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")}),[l,n]);var p=g(r);return t.useEffect((function(){if(c.elements){var e=E(r,p,["clientSecret","fonts"]);e&&c.elements.update(e)}}),[r,p,c.elements]),t.useEffect((function(){C(c.stripe)}),[c.stripe]),t.createElement(M.Provider,{value:c},a)};k.propTypes={stripe:y.any,options:y.object};var j=function(e){var n=t.useContext(M);return w(n,e)},x=function(e){return(0,e.children)(j("mounts <ElementsConsumer>"))};x.propTypes={children:y.func.isRequired};var D=["on","session"],A=t.createContext(null);A.displayName="CustomCheckoutSdkContext";var L=function(e,t){if(!e)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CustomCheckoutProvider> provider."));return e},R=t.createContext(null);R.displayName="CustomCheckoutContext";var I=function(e){var n=e.stripe,a=e.options,o=e.children,c=t.useMemo((function(){return _(n,"Invalid prop `stripe` supplied to `CustomCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.")}),[n]),u=s(t.useState(null),2),l=u[0],p=u[1],d=s(t.useState((function(){return{stripe:"sync"===c.tag?c.stripe:null,customCheckoutSdk:null}})),2),m=d[0],f=d[1],y=function(e,t){f((function(n){return n.stripe&&n.customCheckoutSdk?n:{stripe:e,customCheckoutSdk:t}}))},h=t.useRef(!1);t.useEffect((function(){var e=!0;return"async"!==c.tag||m.stripe?"sync"===c.tag&&c.stripe&&!h.current&&(h.current=!0,c.stripe.initCustomCheckout(a).then((function(e){e&&(y(c.stripe,e),e.on("change",p))}))):c.stripePromise.then((function(t){t&&e&&!h.current&&(h.current=!0,t.initCustomCheckout(a).then((function(e){e&&(y(t,e),e.on("change",p))})))})),function(){e=!1}}),[c,m,a,p]);var v=g(n);t.useEffect((function(){null!==v&&v!==n&&console.warn("Unsupported prop change on CustomCheckoutProvider: You cannot change the `stripe` prop after setting it.")}),[v,n]);var E=g(a);t.useEffect((function(){var e,t;if(m.customCheckoutSdk){!a.clientSecret||b(E)||P(a.clientSecret,E.clientSecret)||console.warn("Unsupported prop change: options.client_secret is not a mutable property.");var n=null==E||null===(e=E.elementsOptions)||void 0===e?void 0:e.appearance,r=null==a||null===(t=a.elementsOptions)||void 0===t?void 0:t.appearance;r&&!P(r,n)&&m.customCheckoutSdk.changeAppearance(r)}}),[a,E,m.customCheckoutSdk]),t.useEffect((function(){C(m.stripe)}),[m.stripe]);var O=t.useMemo((function(){return e=m.customCheckoutSdk,t=l,e?(e.on,e.session,r(r({},i(e,D)),t||e.session())):null;var e,t}),[m.customCheckoutSdk,l]);return m.customCheckoutSdk?t.createElement(A.Provider,{value:m},t.createElement(R.Provider,{value:O},o)):null};I.propTypes={stripe:y.any,options:y.shape({clientSecret:y.string.isRequired,elementsOptions:y.object}).isRequired};var T=function(e){var n=t.useContext(A),r=t.useContext(M);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CustomCheckoutProvider> and <Elements> providers."));return n?L(n,e):w(r,e)},N=function(e,n){var r,a="".concat((r=e).charAt(0).toUpperCase()+r.slice(1),"Element"),o=n?function(e){T("mounts <".concat(a,">"));var n=e.id,r=e.className;return t.createElement("div",{id:n,className:r})}:function(n){var r,o=n.id,i=n.className,c=n.options,u=void 0===c?{}:c,l=n.onBlur,p=n.onFocus,d=n.onReady,m=n.onChange,f=n.onEscape,y=n.onClick,b=n.onLoadError,v=n.onLoaderStart,P=n.onNetworksChange,O=n.onConfirm,S=n.onCancel,_=n.onShippingAddressChange,C=n.onShippingRateChange,M=T("mounts <".concat(a,">")),w="elements"in M?M.elements:null,k="customCheckoutSdk"in M?M.customCheckoutSdk:null,j=s(t.useState(null),2),x=j[0],D=j[1],A=t.useRef(null),L=t.useRef(null);h(x,"blur",l),h(x,"focus",p),h(x,"escape",f),h(x,"click",y),h(x,"loaderror",b),h(x,"loaderstart",v),h(x,"networkschange",P),h(x,"confirm",O),h(x,"cancel",S),h(x,"shippingaddresschange",_),h(x,"shippingratechange",C),h(x,"change",m),d&&(r="expressCheckout"===e?d:function(){d(x)}),h(x,"ready",r),t.useLayoutEffect((function(){if(null===A.current&&null!==L.current&&(w||k)){var t=null;k?t=k.createElement(e,u):w&&(t=w.create(e,u)),A.current=t,D(t),t&&t.mount(L.current)}}),[w,k,u]);var R=g(u);return t.useEffect((function(){if(A.current){var e=E(u,R,["paymentRequest"]);e&&A.current.update(e)}}),[u,R]),t.useLayoutEffect((function(){return function(){if(A.current&&"function"==typeof A.current.destroy)try{A.current.destroy(),A.current=null}catch(e){}}}),[]),t.createElement("div",{id:o,className:i,ref:L})};return o.propTypes={id:y.string,className:y.string,onChange:y.func,onBlur:y.func,onFocus:y.func,onReady:y.func,onEscape:y.func,onClick:y.func,onLoadError:y.func,onLoaderStart:y.func,onNetworksChange:y.func,onConfirm:y.func,onCancel:y.func,onShippingAddressChange:y.func,onShippingRateChange:y.func,options:y.object},o.displayName=a,o.__elementType=e,o},B="undefined"==typeof window,q=t.createContext(null);q.displayName="EmbeddedCheckoutProviderContext";var F=function(){var e=t.useContext(q);if(!e)throw new Error("<EmbeddedCheckout> must be used within <EmbeddedCheckoutProvider>");return e},U=B?function(e){var n=e.id,r=e.className;return F(),t.createElement("div",{id:n,className:r})}:function(e){var n=e.id,r=e.className,a=F().embeddedCheckout,o=t.useRef(!1),i=t.useRef(null);return t.useLayoutEffect((function(){return!o.current&&a&&null!==i.current&&(a.mount(i.current),o.current=!0),function(){if(o.current&&a)try{a.unmount(),o.current=!1}catch(e){}}}),[a]),t.createElement("div",{ref:i,id:n,className:r})},Y=N("auBankAccount",B),V=N("card",B),W=N("cardNumber",B),G=N("cardExpiry",B),K=N("cardCvc",B),H=N("fpxBank",B),J=N("iban",B),z=N("idealBank",B),X=N("p24Bank",B),$=N("epsBank",B),Q=N("payment",B),Z=N("expressCheckout",B),ee=N("paymentRequestButton",B),te=N("linkAuthentication",B),ne=N("address",B),re=N("shippingAddress",B),ae=N("paymentMethodMessaging",B),oe=N("affirmMessage",B),ie=N("afterpayClearpayMessage",B);e.AddressElement=ne,e.AffirmMessageElement=oe,e.AfterpayClearpayMessageElement=ie,e.AuBankAccountElement=Y,e.CardCvcElement=K,e.CardElement=V,e.CardExpiryElement=G,e.CardNumberElement=W,e.CustomCheckoutProvider=I,e.Elements=k,e.ElementsConsumer=x,e.EmbeddedCheckout=U,e.EmbeddedCheckoutProvider=function(e){var n=e.stripe,r=e.options,a=e.children,o=t.useMemo((function(){return _(n,"Invalid prop `stripe` supplied to `EmbeddedCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.")}),[n]),i=t.useRef(null),c=t.useRef(null),u=s(t.useState({embeddedCheckout:null}),2),l=u[0],p=u[1];t.useEffect((function(){if(!c.current&&!i.current){var e=function(e){c.current||i.current||(c.current=e,i.current=c.current.initEmbeddedCheckout(r).then((function(e){p({embeddedCheckout:e})})))};"async"!==o.tag||c.current||!r.clientSecret&&!r.fetchClientSecret?"sync"!==o.tag||c.current||!r.clientSecret&&!r.fetchClientSecret||e(o.stripe):o.stripePromise.then((function(t){t&&e(t)}))}}),[o,r,l,c]),t.useEffect((function(){return function(){l.embeddedCheckout?(i.current=null,l.embeddedCheckout.destroy()):i.current&&i.current.then((function(){i.current=null,l.embeddedCheckout&&l.embeddedCheckout.destroy()}))}}),[l.embeddedCheckout]),t.useEffect((function(){C(c)}),[c]);var d=g(n);t.useEffect((function(){null!==d&&d!==n&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the `stripe` prop after setting it.")}),[d,n]);var m=g(r);return t.useEffect((function(){null!=m&&(null!=r?(void 0===r.clientSecret&&void 0===r.fetchClientSecret&&console.warn("Invalid props passed to EmbeddedCheckoutProvider: You must provide one of either `options.fetchClientSecret` or `options.clientSecret`."),null!=m.clientSecret&&r.clientSecret!==m.clientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the client secret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),null!=m.fetchClientSecret&&r.fetchClientSecret!==m.fetchClientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change fetchClientSecret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),null!=m.onComplete&&r.onComplete!==m.onComplete&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onComplete option after setting it.")):console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot unset options after setting them."))}),[m,r]),t.createElement(q.Provider,{value:l},a)},e.EpsBankElement=$,e.ExpressCheckoutElement=Z,e.FpxBankElement=H,e.IbanElement=J,e.IdealBankElement=z,e.LinkAuthenticationElement=te,e.P24BankElement=X,e.PaymentElement=Q,e.PaymentMethodMessagingElement=ae,e.PaymentRequestButtonElement=ee,e.ShippingAddressElement=re,e.useCustomCheckout=function(){!function(e){var n=t.useContext(A);L(n,e)}("calls useCustomCheckout()");var e=t.useContext(R);if(!e)throw new Error("Could not find CustomCheckout Context; You need to wrap the part of your app that calls useCustomCheckout() in an <CustomCheckoutProvider> provider.");return e},e.useElements=function(){return j("calls useElements()").elements},e.useStripe=function(){return T("calls useStripe()").stripe}}(t,n(1609))},7427:(e,t,n)=>{"use strict";n.r(t),n.d(t,{loadStripe:()=>u});var r="https://js.stripe.com/v3",a=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,o="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",i=null,s=Promise.resolve().then((function(){return e=null,null!==i||(i=new Promise((function(t,n){if("undefined"!=typeof window&&"undefined"!=typeof document)if(window.Stripe&&e&&console.warn(o),window.Stripe)t(window.Stripe);else try{var i=function(){for(var e=document.querySelectorAll('script[src^="'.concat(r,'"]')),t=0;t<e.length;t++){var n=e[t];if(a.test(n.src))return n}return null}();i&&e?console.warn(o):i||(i=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(r).concat(t);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(n),n}(e)),i.addEventListener("load",(function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))})),i.addEventListener("error",(function(){n(new Error("Failed to load Stripe.js"))}))}catch(e){return void n(e)}else t(null)}))),i;var e})),c=!1;s.catch((function(e){c||console.warn(e)}));var u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];c=!0;var r=Date.now();return s.then((function(e){return function(e,t,n){if(null===e)return null;var r=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"1.54.2",startTime:t})}(r,n),r}(e,t,r)}))}},8037:(e,t,n)=>{var r=n(6087),a=n(4994)(n(3693)),o=n(5703),i=n(2926),s=n(2279),c=n(1e3),u=n(9954),l=n(453);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var d=(0,o.getSetting)("stripeBNPLCart_data").stripe_affirm;if((0,u.isCartPage)()&&d&&d.cartEnabled){var m=function(e){var t,n,o,s,u,l,m,f=e.cart.cartTotals,y=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({amount:parseInt(f.total_price),currency:f.currency_code},d.cartMessageOptions);return n=(t={amount:parseInt(f.total_price),currency:f.currency_code}).amount,s=void 0===(o=t.billingCountry)?null:o,u=t.currency,l=d.requirements,m=d.accountCountry,(s?u in l&&m===s&&5e3<=n&&n<=3e6:u in l&&5e3<=n&&n<=3e6)?r.createElement(c.TotalsWrapper,null,r.createElement("div",{className:"wc-block-components-totals-item wc-stripe-cart-message-container stripe_affirm"},r.createElement(i.AffirmMessageElement,{options:y}))):null};(0,s.registerPlugin)("wc-stripe-blocks-affirm",{render:function(){var e=function(e){return r.createElement(l.SilentErrorBoundary,null,r.createElement(i.Elements,{stripe:u.initStripe,options:{locale:d.elementOptions.locale}},r.createElement(m,e)))};return r.createElement(c.ExperimentalOrderMeta,null,r.createElement(e,null))},scope:"woocommerce-checkout"})}},1102:(e,t,n)=>{var r=n(6087),a=n(4994)(n(3693)),o=n(5703),i=n(2926),s=n(2279),c=n(1e3),u=n(9954),l=n(453);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=(0,o.getSetting)("stripeBNPLCart_data").stripe_afterpay;if((0,u.isCartPage)()&&m&&m.cartEnabled){var f=function(e){var t=e.cart,n=t.billingAddress,a=t.cartTotals,o=a.currency_code,s=a.currency_minor_unit,u=a.total_price,l=n.country,p=function(e){var t=e.total,n=e.currency,r=!1,a=e.country,o=m.requiredParams,i=m.accountCountry,s=!!o.hasOwnProperty(n)&&o[n];if(s){var c=null==s?void 0:s[0];Array.isArray(c)||(c=[c]),r=c.indexOf(i)>-1&&("EUR"!==n||!a||i===a)&&t>(null==s?void 0:s[1])&&t<(null==s?void 0:s[2])}return r}({total:parseInt(u)/Math.pow(10,s),currency:o,country:l});if(p)return r.createElement(c.TotalsWrapper,null,r.createElement("div",{className:"wc-block-components-totals-item wc-stripe-cart-message-container stripe_afterpay"},r.createElement(i.AfterpayClearpayMessageElement,{options:d(d({},m.cartMessageOptions),{amount:parseInt(u),currency:o,isCartEligible:!0})})))};(0,s.registerPlugin)("wc-stripe-blocks-afterpay",{render:function(e){var t=function(e){return r.createElement(l.SilentErrorBoundary,null,r.createElement(i.Elements,{stripe:u.initStripe,options:{locale:m.elementOptions.locale}},r.createElement(f,e)))};return r.createElement(c.ExperimentalOrderMeta,null,r.createElement(t,null))},scope:"woocommerce-checkout"})}},694:(e,t,n)=>{n(8037),n(1102),n(7467)},7467:(e,t,n)=>{var r=n(6087),a=n(4994)(n(3693)),o=n(5703),i=n(2926),s=n(2279),c=n(1e3),u=n(9954),l=n(453);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var d=(0,o.getSetting)("stripeBNPLCart_data").stripe_klarna;if((0,u.isCartPage)()&&d&&d.cartEnabled){var m=d.requiredParams,f=function(e){var t=e.cart.cartTotals,n=t.currency_code,o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({amount:parseInt(t.total_price),currency:t.currency_code,paymentMethodTypes:["klarna"]},d.messageOptions);return(0,u.isKlarnaAvailable)({requiredParams:m,currency:n})?r.createElement(c.TotalsWrapper,null,r.createElement("div",{className:"wc-block-components-totals-item wc-stripe-cart-message-container stripe_klarna"},r.createElement(i.PaymentMethodMessagingElement,{options:o}))):null};(0,s.registerPlugin)("wc-stripe-blocks-klarna",{render:function(){var e=function(e){return r.createElement(l.SilentErrorBoundary,null,r.createElement(i.Elements,{stripe:u.initStripe,options:{locale:d.elementOptions.locale}},r.createElement(f,e)))};return r.createElement(c.ExperimentalOrderMeta,null,r.createElement(e,null))},scope:"woocommerce-checkout"})}},5076:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=n(6214);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}));var a=n(8846);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o=n(8273);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var i=n(9497);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var s=n(6628);Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))}));var c=n(3947);Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))}))},9497:(e,t,n)=>{var r=n(6087),a=n(4994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Installments=void 0;var o=a(n(9280)),i=a(n(9293)),s=a(n(5715)),c=n(6087),u=a(n(1455)),l=a(n(6942)),p=n(9954);n(1360);var d=t.Installments=function(e){var t=e.i18n,n=e.active,a=e.paymentMethodType,l=e.cardFormComplete,d=void 0!==l&&l,f=e.onChange,y=void 0===f?null:f,h=e.createPaymentMethod,g=(0,c.useState)(null),b=(0,s.default)(g,2),v=b[0],P=b[1],E=(0,c.useState)(""),O=(0,s.default)(E,2),S=O[0],_=O[1],C=(0,c.useState)(!1),M=(0,s.default)(C,2),w=M[0],k=M[1];return(0,c.useEffect)((function(){n&&d&&"card"===a&&(k(!0),_(""),h().then(function(){var e=(0,i.default)(o.default.mark((function e(t){var n,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,(0,u.default)({url:(0,p.getRoute)("create/payment_intent"),method:"POST",data:{payment_method_id:t.id,payment_method:"stripe_cc"}});case 3:r=e.sent,P(r.installments),null!==(n=Object.keys(r.installments))&&void 0!==n&&n.length&&_(Object.keys(r.installments)[0]);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)})).finally((function(){return k(!1)})))}),[n,d,a,h]),n&&"card"===a?r.createElement("div",{className:"wc-stripe-installments__container"},r.createElement("label",{className:"wc-stripe-installments__label"},t.installments.pay),r.createElement(m,{i18n:t,installment:S,onChange:function(e){_(e.target.value),y&&y(e.target.value)},installments:v,isLoading:w})):null},m=function(e){var t,n=e.installment,a=e.installments,o=e.onChange,i=e.isLoading,s=e.i18n;return t=i?r.createElement("option",{value:"",disabled:!0},s.installments.loading):null===a?r.createElement("option",{value:"",disabled:!0},s.installments.complete_form):Object.keys(a).map((function(e){return r.createElement("option",{key:e,value:e,dangerouslySetInnerHTML:{__html:a[e].text}})})),r.createElement("select",{value:n,onChange:o,className:(0,l.default)("wc-stripe-installment__options",{loading:i})},t)};t.default=d},3947:(e,t,n)=>{var r=n(6087);Object.defineProperty(t,"__esModule",{value:!0}),t.MandateText=void 0,t.MandateText=function(e){var t=e.text;return r.createElement("div",{className:"wc-stripe-mandate--container"},r.createElement("p",{className:"wc-stripe-mandate-container--text"},t))}},6628:(e,t,n)=>{var r=n(6087);Object.defineProperty(t,"__esModule",{value:!0}),t.OffsiteNotice=void 0;var a=(0,n(5703).getSetting)("stripeGeneralData");t.OffsiteNotice=function(e){var t=e.text;return r.createElement("div",{className:"wc-stripe-blocks-offsite-notice"},r.createElement("div",null,r.createElement("img",{src:"".concat(a.assetsUrl,"/img/offsite.svg")}),r.createElement("p",null,t)))}},6214:(e,t,n)=>{var r=n(6087),a=n(4994);Object.defineProperty(t,"__esModule",{value:!0}),t.PaymentMethodLabel=void 0;var o=a(n(1847));n(43);var i=["title","icons","paymentMethod"];t.PaymentMethodLabel=function(e){var t=e.title,n=e.icons,a=e.paymentMethod,s=(0,o.default)(e,i).components,c=s.PaymentMethodLabel,u=s.PaymentMethodIcons;return Array.isArray(n)||(n=[n]),r.createElement("span",{className:"wc-stripe-label-container ".concat(a)},r.createElement(c,{text:t}),r.createElement(u,{icons:n,align:"left"}))}},8273:(e,t,n)=>{var r=n(6087),a=n(4994);Object.defineProperty(t,"__esModule",{value:!0}),t.PaymentMethod=void 0;var o=a(n(3693)),i=a(n(1847)),s=n(6087),c=["getData","content"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.PaymentMethod=function(e){var t=e.getData,n=e.content,a=(0,i.default)(e,c),o=n,u=t("description"),d=(0,s.useRef)(null);return(0,s.useEffect)((function(){d.current&&0==d.current.childNodes.length&&d.current.classList.add("no-content")})),r.createElement(r.Fragment,null,u&&r.createElement(p,{desc:u,payment_method:t("name")}),r.createElement("div",{ref:d,className:"wc-stripe-blocks-payment-method-content"},r.createElement(o,l(l({},a),{},{getData:t}))))};var p=function(e){var t=e.desc,n=e.payment_method;return r.createElement("div",{className:"wc-stripe-blocks-payment-method__desc ".concat(n)},r.createElement("p",null,t))}},8846:(e,t,n)=>{var r=n(6087),a=n(4994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.RadioControlOption=void 0;var o=a(n(6942)),i=t.RadioControlOption=function(e){var t=e.checked,n=e.onChange,a=e.value,i=e.label;return r.createElement("label",{className:(0,o.default)("wc-stripe-blocks-radio-control__option",{"wc-stripe-blocks-radio-control__option-checked":t})},r.createElement("input",{className:"wc-stripe-blocks-radio-control__input",type:"radio",value:a,checked:t,onChange:function(e){return n(e.target.value)}}),r.createElement("div",{className:"wc-stripe-blocks-radio-control__label"},r.createElement("span",null,i)))};t.default=i},3602:(e,t,n)=>{var r=n(6087),a=n(4994);Object.defineProperty(t,"__esModule",{value:!0}),t.SilentErrorBoundary=void 0;var o=a(n(7383)),i=a(n(4579)),s=a(n(8452)),c=a(n(3072)),u=a(n(9511)),l=n(6087);function p(e,t,n){return t=(0,c.default)(t),(0,s.default)(e,d()?Reflect.construct(t,n||[],(0,c.default)(e).constructor):t.apply(e,n))}function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(d=function(){return!!e})()}t.SilentErrorBoundary=function(e){function t(e){var n;return(0,o.default)(this,t),(n=p(this,t,[e])).state={hasError:!1,msg:""},n}return(0,u.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){return this.state.hasError?this.props.showError?r.createElement(r.Fragment,null,r.createElement("div",{className:"wc-stripe-error-message"},this.state.msg)):null:this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0,msg:(null==e?void 0:e.message)||e}}}])}(l.Component)},453:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=n(3602);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}))},8563:(e,t,n)=>{n(6846),n(6083)},6083:(e,t,n)=>{var r=n(6087),a=n(4994),o=a(n(5715)),i=a(n(1847)),s=n(6087),c=n(4083),u=n(9954),l=n(2926),p=a(n(5821)),d=n(2871),m=["getData","onClick","onClose","billing","shippingData","eventRegistration","emitResponse","onSubmit","activePaymentMethod"],f=["getData"],y=["cartTotals"],h=(0,u.getSettings)("stripe_applepay_data"),g=function(e){return r.createElement(p.default,null,r.createElement("div",{className:"wc-stripe-apple-pay-container"},r.createElement(l.Elements,{stripe:u.initStripe},r.createElement(b,e))))},b=function(e){var t=e.getData,n=e.onClick,a=e.onClose,c=e.billing,u=e.shippingData,p=e.eventRegistration,f=e.emitResponse,y=e.onSubmit,h=e.activePaymentMethod,g=((0,i.default)(e,m),p.onPaymentSetup),b=f.noticeContexts,v=(0,l.useStripe)(),P=(0,d.useStripeError)(),E=(0,o.default)(P,1)[0],O=(0,d.useExportedValues)();(0,d.useExpressBreakpointWidth)({payment_method:t("name"),width:375});var S=(0,d.useProcessPaymentIntent)({getData:t,billing:c,shippingData:u,onPaymentSetup:g,emitResponse:f,error:E,onSubmit:y,activePaymentMethod:h,exportedValues:O}).setPaymentMethod;(0,d.useAfterProcessingPayment)({getData:t,eventRegistration:p,emitResponse:f,activePaymentMethod:h,messageContext:b.EXPRESS_PAYMENTS});var _=(0,d.usePaymentRequest)({getData:t,onClose:a,stripe:v,billing:c,shippingData:u,setPaymentMethod:S,exportedValues:O,canPay:function(e){return null!=e&&e.applePay}}).paymentRequest,C=(0,s.useCallback)((function(e){_&&(e.preventDefault(),n(),_.show())}),[_,n]);return _?r.createElement("button",{className:"apple-pay-button ".concat(t("buttonStyle")),style:{ApplePayButtonType:t("buttonType")},onClick:C}):null},v=function(e){var t=e.getData;return(0,i.default)(e,f),r.createElement("div",{className:"apple-pay-block-editor"},r.createElement("img",{src:t("editorIcon")}))};((0,u.isCartPage)()&&h("cartCheckoutEnabled")||(0,u.isCheckoutPage)()&&h("expressCheckoutEnabled"))&&(0,c.registerExpressPaymentMethod)({name:h("name"),canMakePayment:function(e){var t=e.cartTotals;if((0,i.default)(e,y),h("isAdmin"))return!0;var n=t.currency_code,r=t.total_price;return(0,u.canMakePayment)({country:h("countryCode"),currency:n.toLowerCase(),total:{label:h("totalLabel"),amount:parseInt(r)}},(function(e){return null!=e&&e.applePay}))},content:r.createElement(g,{getData:h}),edit:r.createElement(v,{getData:h}),supports:{showSavedCards:h("showSavedCards"),showSaveOption:h("showSaveOption"),features:h("features")}})},7967:(e,t,n)=>{var r=n(6087);n(5366);var a=n(9954),o=n(2926),i=function(e){var t=e.CardIcon,n=e.options,a=e.onChange,i=e.i18n;return r.createElement("div",{className:"wc-stripe-bootstrap-form"},r.createElement("div",{className:"row"},r.createElement("div",{className:"col-md-6 mb-3"},r.createElement(o.CardNumberElement,{className:"md-form md-outline stripe-input",options:n.cardNumber,onChange:a(o.CardNumberElement)}),r.createElement("label",{htmlFor:"stripe-card-number"},i.labels.number),t),r.createElement("div",{className:"col-md-3 mb-3"},r.createElement(o.CardExpiryElement,{className:"md-form md-outline stripe-input",options:n.cardExpiry,onChange:a(o.CardExpiryElement)}),r.createElement("label",{htmlFor:"stripe-exp"},i.labels.exp)),r.createElement("div",{className:"col-md-3 mb-3"},r.createElement(o.CardCvcElement,{className:"md-form md-outline stripe-input",options:n.cardCvc,onChange:a(o.CardCvcElement)}),r.createElement("label",{htmlFor:"stripe-cvv"},i.labels.cvv))))};(0,a.registerCreditCardForm)({id:"bootstrap",breakpoint:475,component:r.createElement(i,null)})},4465:(e,t,n)=>{var r=n(6087),a=n(4994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(3693)),i=a(n(5715)),s=n(9954),c=n(6087),u=n(2926),l=n(2871);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m={focus:"focused",empty:"empty",invalid:"invalid"},f=function(e){var t=e.type,n=e.src;return t?r.createElement("img",{className:"wc-stripe-card ".concat(t),src:n}):null};t.default=function(e){var t=e.getData,n=e.onChange,a=e.onComplete,o=(0,c.useState)(""),p=(0,i.default)(o,2),y=p[0],h=p[1],g=(0,c.useRef)([]),b=(0,c.useState)(null),v=(0,i.default)(b,2),P=v[0],E=v[1],O=(0,u.useElements)(),S=t("customForm"),_=(0,s.getCreditCardForm)(S),C=_.component,M=void 0===C?null:C,w=_.breakpoint,k=void 0===w?475:w,j=t("postalCodeEnabled"),x={},D=(0,c.useRef)({cardNumber:{},cardExpiry:{},cardCvc:{}});["cardNumber","cardExpiry","cardCvc"].forEach((function(e){x[e]=d(d({classes:m},t("cardOptions")),t("customFieldOptions")[e])}));var A=(0,c.useCallback)((function(e){g.current.includes(e)||g.current.push(e)}),[]);(0,l.useBreakpointWidth)({name:"creditCardForm",width:k,node:P,className:"small-form"});var L=(0,c.useCallback)((function(e){for(var n=0,r=Object.keys(t("cards"));n<r.length;n++){var a=r[n];if(a===e)return t("cards")[a]}return""}),[]);return M?r.createElement("div",{className:"wc-stripe-custom-form ".concat(S),ref:E},(0,c.cloneElement)(M,{postalCodeEnabled:j,options:x,onChange:function(e){return A(e),function(t){if(n(t),D.current[t.elementType]=t,"cardNumber"===t.elementType&&("unknown"===t.brand?h(""):h(t.brand)),t.complete){var r=g.current.indexOf(e);if(g.current[r+1]){var o=g.current[r+1];O.getElement(o).focus()}}var i;a((i=D.current,Object.keys(i).filter((function(e){return!!i[e].complete})).length===Object.keys(i).length))}},CardIcon:r.createElement(f,{type:y,src:L(y)}),i18n:t("i18n")})):r.createElement("div",{className:"wc-stripe-custom-form-error"},r.createElement("p",null,t("i18n").unsupported_form))}},3349:(e,t,n)=>{var r=n(6087);n(8162);var a=n(9954),o=n(2926),i=n(6087),s=function(e){var t=e.CardIcon,n=e.options,a=e.onChange,s=e.i18n;return(0,i.useEffect)((function(){}),[]),r.createElement("div",{className:"wc-stripe-simple-form"},r.createElement("div",{className:"row"},r.createElement("div",{className:"field"},r.createElement("div",{className:"field-item"},r.createElement(o.CardNumberElement,{id:"stripe-card-number",className:"input empty",options:n.cardNumber,onChange:a(o.CardNumberElement)}),r.createElement("label",{htmlFor:"stripe-card-number","data-tid":""},s.labels.number),r.createElement("div",{className:"baseline"}),t))),r.createElement("div",{className:"row"},r.createElement("div",{className:"field half-width"},r.createElement("div",{className:"field-item"},r.createElement(o.CardExpiryElement,{id:"stripe-exp",className:"input empty",options:n.cardExpiry,onChange:a(o.CardExpiryElement)}),r.createElement("label",{htmlFor:"stripe-exp","data-tid":""},s.labels.exp),r.createElement("div",{className:"baseline"}))),r.createElement("div",{className:"field half-width cvc"},r.createElement("div",{className:"field-item"},r.createElement(o.CardCvcElement,{id:"stripe-cvv",className:"input empty",options:n.cardCvc,onChange:a(o.CardCvcElement)}),r.createElement("label",{htmlFor:"stripe-cvv","data-tid":""},s.labels.cvv),r.createElement("div",{className:"baseline"})))))};(0,a.registerCreditCardForm)({id:"simple",component:r.createElement(s,null),breakpoint:375})},1659:(e,t,n)=>{var r=n(6087),a=n(4994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(3693)),i=n(2926),s=n(9954),c=n(6087);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=function(e){var t=e.getData,n=e.billing,a=e.onChange,o=e.onComplete,u={card:{}},p=(0,c.useMemo)((function(){var e;return l(l({},{value:{postalCode:null==n||null===(e=n.billingAddress)||void 0===e?void 0:e.postcode},hidePostalCode:(0,s.isFieldRequired)("postcode"),iconStyle:"default"}),t("cardOptions"))}),[n.billingAddress]);return r.createElement("div",{className:"wc-stripe-inline-form"},r.createElement(i.CardElement,{options:p,onChange:function(e){a(e),u[e.elementType]=e,o(Object.keys(u).filter((function(e){return!!u[e].complete})).length===Object.keys(u).length)}}))}},1061:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),n(9350);var r=n(6101);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))})),n(7967),n(3349)},8462:(e,t,n)=>{var r=n(6087),a=n(4994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PaymentElementComponent=void 0;var o=a(n(5715)),i=a(n(1847)),s=a(n(4634)),c=a(n(3693)),u=n(6087),l=n(7427),p=n(2926),d=n(5703),m=n(8468),f=n(9954),y=n(5076),h=n(2871),g=["options"];function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=(0,d.getSetting)("stripeGeneralData"),E=P.publishableKey,O=P.stripeParams,S=(0,m.cloneDeep)(O);S.hasOwnProperty("betas")&&S.betas.indexOf("link_autofill_modal_beta_1")>-1&&delete S.betas[S.betas.indexOf("link_autofill_modal_beta_1")];var _=(0,l.loadStripe)(E,S),C=(0,f.getSettings)("stripe_cc_data"),M=C("i18n"),w=t.PaymentElementComponent=function(e){var t,n=e.billing,a=e.cartData,o=e.shouldSavePayment,i=(a.extensions,n.cartTotal),c=n.currency,u=v({mode:"payment",currency:null==c||null===(t=c.code)||void 0===t?void 0:t.toLowerCase()},C("elementOptions"));return o&&(u.mode="subscription"),0>=i.value&&(u=v(v({},u),{},{mode:"setup"})),["payment","subscription"].includes(u.mode)&&(u.amount=i.value),r.createElement(r.Fragment,null,r.createElement(p.Elements,{stripe:_,options:u},r.createElement(k,(0,s.default)({},e,{options:u}))))},k=function(e){e.options;var t=(0,i.default)(e,g),n=(0,u.useState)(!1),a=(0,o.default)(n,2),s=a[0],c=a[1],l=C("installmentsActive"),d=(0,p.useStripe)(),m=t.billing.billingAddress,f=t.eventRegistration,b=t.emitResponse,v=t.shouldSavePayment,P=m.email,E=m.phone,O=m.first_name,S=m.last_name,_=f.onCheckoutFail,w=b.noticeContexts,k=C("name"),j=(0,u.useCallback)((function(e){c(e.complete)}),[]),x=(0,h.useDeferredPaymentIntent)({billingAddress:m,eventRegistration:f,emitResponse:b,shouldSavePayment:v,noticeContexts:w,name:k}),D=x.createPaymentMethod,A=x.addPaymentMethodData;(0,h.useProcessCheckoutError)({emitResponse:b,subscriber:_,messageContext:b.noticeContexts.PAYMENTS});var L={defaultValues:{billingDetails:{name:"".concat(O," ").concat(S),email:P,phone:E}},fields:{billingDetails:{address:"never"}},wallets:{applePay:"never",googlePay:"never"}};return r.createElement(r.Fragment,null,r.createElement(p.PaymentElement,{options:L,onChange:j}),r.createElement(y.Installments,{active:l,i18n:M,paymentMethodType:"card",stripe:d,cardFormComplete:s,createPaymentMethod:D,onChange:function(e){return A({_stripe_installment_plan:e})}}))};t.default=w},6101:(e,t,n)=>{var r=n(6087),a=n(4994),o=a(n(9280)),i=a(n(9293)),s=a(n(5715)),c=n(6087),u=n(4083),l=n(9954),p=n(2926),d=n(5076),m=a(n(1756)),f=a(n(4465)),y=a(n(1659)),h=a(n(8462)),g=n(2871),b=(0,l.getSettings)("stripe_cc_data"),v=function(e){var t=(0,c.useState)(!1),n=(0,s.default)(t,2),a=n[0],o=n[1];if((0,c.useEffect)((function(){l.initStripe.catch((function(e){o(e)}))}),[o]),a)throw new Error(a);return b("isPaymentElement")?r.createElement(h.default,e):r.createElement(p.Elements,{stripe:l.initStripe,options:b("elementOptions")},r.createElement(P,e))},P=function(e){var t=e.getData,n=e.billing,a=e.shippingData,u=e.emitResponse,l=e.eventRegistration,m=e.activePaymentMethod,h=e.shouldSavePayment,b=(0,g.useStripeError)(),v=(0,s.default)(b,2),P=v[0],E=v[1],O=(0,c.useState)(!1),S=(0,s.default)(O,2),_=S[0],C=S[1],M=l.onPaymentSetup,w=(0,p.useStripe)(),k=(0,p.useElements)(),j=(0,c.useCallback)((function(){var e=t("customFormActive")?p.CardNumberElement:p.CardElement;return{card:k.getElement(e)}}),[w,k]),x=(0,g.useSetupIntent)({getData:t,cartTotal:n.cartTotal,setError:E}),D=x.setupIntent,A=x.removeSetupIntent,L=(0,g.useProcessPaymentIntent)({getData:t,billing:n,shippingData:a,emitResponse:u,error:P,onPaymentSetup:M,shouldSavePayment:h,setupIntent:D,removeSetupIntent:A,getPaymentMethodArgs:j,activePaymentMethod:m}),R=L.getCreatePaymentMethodArgs,I=L.addPaymentMethodData;(0,g.useAfterProcessingPayment)({getData:t,eventRegistration:l,emitResponse:u,activePaymentMethod:m,shouldSavePayment:h});var T=(0,c.useCallback)((0,i.default)(o.default.mark((function e(){var t,n,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.next=3,w.createPaymentMethod(R());case 3:return null!=(r=e.sent)&&null!==(t=r.paymentMethod)&&void 0!==t&&t.id&&(n=r.paymentMethod.id),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),[w,R]),N=t("customFormActive")?f.default:y.default;return r.createElement("div",{className:"wc-stripe-card-container"},r.createElement(N,{getData:t,billing:n,onChange:function(e){e.error?E(e.error):E(!1)},onComplete:C}),t("installmentsActive")&&r.createElement(d.Installments,{i18n:t("i18n"),paymentMethodName:t("name"),cardFormComplete:_,addPaymentMethodData:I,getPaymentMethod:T}))};(0,u.registerPaymentMethod)({name:b("name"),label:r.createElement(d.PaymentMethodLabel,{title:b("title"),paymentMethod:b("name"),icons:b("icons")}),ariaLabel:"Credit Cards",canMakePayment:function(){return l.initStripe},content:r.createElement(d.PaymentMethod,{content:v,getData:b}),savedTokenComponent:r.createElement(m.default,{getData:b,confirmation_method:"manual"}),edit:r.createElement(d.PaymentMethod,{content:v,getData:b}),supports:{showSavedCards:b("showSavedCards"),showSaveOption:b("showSaveOption"),features:b("features")}})},5821:(e,t,n)=>{var r=n(6087),a=n(4994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(7383)),i=a(n(4579)),s=a(n(8452)),c=a(n(3072)),u=a(n(9511));function l(e,t,n){return t=(0,c.default)(t),(0,s.default)(e,p()?Reflect.construct(t,n||[],(0,c.default)(e).constructor):t.apply(e,n))}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(p=function(){return!!e})()}var d=function(e){function t(e){var n;return(0,o.default)(this,t),(n=l(this,t,[e])).state={hasError:!1,error:null,errorInfo:null},n}return(0,u.default)(t,e),(0,i.default)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0,error:e,errorInfo:t})}},{key:"render",value:function(){return this.state.hasError?r.createElement(r.Fragment,null,this.state.error&&r.createElement("div",{className:"wc-stripe-block-error"},this.state.error.toString()),this.state.errorInfo&&r.createElement("div",{className:"wc-stripe-block-error"},this.state.errorInfo.componentStack)):this.props.children}}])}(n(6087).Component);t.default=d},5770:(e,t,n)=>{var r=n(6087),a=n(4994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(5715)),i=a(n(1847)),s=n(6087),c=n(1191),u=n(2871),l=n(9954),p=["getData","setErrorMessage","billing","shippingData","canMakePayment","checkoutStatus","eventRegistration","activePaymentMethod","onClick","onClose"],d=(0,l.getSettings)("stripeGeneralData")().publishableKey;t.default=function(e){var t=e.getData,n=e.setErrorMessage,a=e.billing,l=e.shippingData,m=e.canMakePayment,f=e.checkoutStatus,y=e.eventRegistration,h=e.activePaymentMethod,g=e.onClick,b=e.onClose,v=(0,i.default)(e,p),P={merchantId:t("merchantId"),merchantName:t("merchantName")},E=(0,u.useStripeError)(),O=(0,o.default)(E,2),S=O[0],_=(O[1],(0,s.useRef)()),C=v.onSubmit,M=v.emitResponse,w=y.onPaymentSetup,k=(0,u.useExportedValues)(),j="long"===t("buttonStyle").buttonType?390:375,x=(0,u.useProcessPaymentIntent)({getData:t,billing:a,shippingData:l,onPaymentSetup:w,emitResponse:M,error:S,exportedValues:k,onSubmit:C,checkoutStatus:f,activePaymentMethod:h}).setPaymentMethod,D=(0,c.usePaymentRequest)({getData:t,publishableKey:d,merchantInfo:P,billing:a,shippingData:l}),A=(0,c.usePaymentsClient)({merchantInfo:P,buildPaymentRequest:D,billing:a,shippingData:l,eventRegistration:y,canMakePayment:m,setErrorMessage:n,onSubmit:C,setPaymentMethod:x,exportedValues:k,onClick:g,onClose:b,getData:t}),L=A.button,R=A.removeButton;return(0,u.useAfterProcessingPayment)({getData:t,eventRegistration:y,emitResponse:M,activePaymentMethod:h}),(0,u.useExpressBreakpointWidth)({payment_method:t("name"),width:j}),(0,s.useEffect)((function(){L&&(R(_.current),_.current.append(L))}),[L]),r.createElement("div",{className:"wc-stripe-gpay-button-container",ref:_})}},5437:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BASE_PAYMENT_REQUEST=t.BASE_PAYMENT_METHOD=void 0,t.BASE_PAYMENT_METHOD={type:"CARD",parameters:{allowedAuthMethods:["PAN_ONLY"],allowedCardNetworks:["AMEX","DISCOVER","INTERAC","JCB","MASTERCARD","VISA"],assuranceDetailsRequired:!0}},t.BASE_PAYMENT_REQUEST={apiVersion:2,apiVersionMinor:0}},1191:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=n(2836);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}));var a=n(9915);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o=n(7361);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}))},7361:(e,t,n)=>{var r=n(4994);Object.defineProperty(t,"__esModule",{value:!0}),t.useErrorMessage=void 0;var a=r(n(5715)),o=n(6087);t.useErrorMessage=function(){var e=(0,o.useState)(!1),t=(0,a.default)(e,2);return{errorMessage:t[0],setErrorMessage:t[1]}}},9915:(e,t,n)=>{var r=n(4994);Object.defineProperty(t,"__esModule",{value:!0}),t.usePaymentRequest=void 0;var a=r(n(1132)),o=r(n(3693)),i=n(6087),s=n(5437),c=n(9954),u=n(9826);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.usePaymentRequest=function(e){var t=e.getData,n=e.publishableKey,r=e.merchantInfo,o=e.billing,l=e.shippingData,d=t(),m=d.processingCountry,f=d.totalPriceLabel,y=(0,i.useRef)({shippingData:l,billing:o});(0,i.useEffect)((function(){y.current={shippingData:l,billing:o}}));var h=(0,i.useCallback)((function(){var e=y.current,t=e.billing,o=e.shippingData,i=t.billingAddress,l=o.shippingRates,d=p(p({},{emailRequired:(0,c.isEmpty)(i.email),merchantInfo:r,allowedPaymentMethods:[p(p({},{type:"CARD",tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:{gateway:"stripe","stripe:version":"2018-10-31","stripe:publishableKey":n}}}),s.BASE_PAYMENT_METHOD)],shippingAddressRequired:o.needsShipping,transactionInfo:(0,u.getTransactionInfo)({billing:t,processingCountry:m,totalPriceLabel:f}),callbackIntents:["PAYMENT_AUTHORIZATION"]}),s.BASE_PAYMENT_REQUEST);if(d.allowedPaymentMethods[0].parameters.billingAddressRequired=!0,d.allowedPaymentMethods[0].parameters.billingAddressParameters={format:"FULL",phoneNumberRequired:(0,c.isFieldRequired)(o.needsShipping?"shipping-phone":"phone",i.country)&&(0,c.isEmpty)(i.phone)},d.shippingAddressRequired){d.callbackIntents=[].concat((0,a.default)(d.callbackIntents),["SHIPPING_ADDRESS","SHIPPING_OPTION"]),d.shippingOptionRequired=!0;var h=(0,u.getShippingOptionParameters)(l);h.shippingOptions.length>0&&(d=p(p({},d),{},{shippingOptionParameters:h}))}return d}),[]);return h}},2836:(e,t,n)=>{var r=n(4994);Object.defineProperty(t,"__esModule",{value:!0}),t.usePaymentsClient=void 0;var a=r(n(9280)),o=r(n(1132)),i=r(n(3693)),s=r(n(9293)),c=r(n(5715)),u=n(6087),l=r(n(1455)),p=n(9954),d=n(2926),m=n(9826);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.usePaymentsClient=function(e){var t=e.merchantInfo,n=e.buildPaymentRequest,r=e.billing,i=e.shippingData,f=(e.eventRegistration,e.canMakePayment),h=e.setErrorMessage,g=e.setPaymentMethod,b=e.exportedValues,v=e.onClick,P=e.onClose,E=e.getData,O=E().environment,S=(0,u.useState)(),_=(0,c.default)(S,2),C=_[0],M=_[1],w=(0,u.useState)(null),k=(0,c.default)(w,2),j=k[0],x=k[1],D=(0,u.useRef)(r),A=(0,u.useRef)(i),L=i.needsShipping,R=(0,d.useStripe)();(0,u.useEffect)((function(){D.current=r,A.current=i}));var I=(0,u.useCallback)((function(e){var t,n,r={},a=A.current.shippingAddress;null!=e&&null!==(t=e.paymentMethodData)&&void 0!==t&&null!==(t=t.info)&&void 0!==t&&t.billingAddress&&(r=e.paymentMethodData.info.billingAddress,b.billingAddress=D.current.billingAddress=(0,m.toCartAddress)(r,{email:e.email||D.current.billingAddress.email,phoneNumber:r.phoneNumber||D.current.billingAddress.phone})),null!=e&&e.shippingAddress&&(b.shippingAddress=(0,m.toCartAddress)(e.shippingAddress),null!=b&&null!==(n=b.billingAddress)&&void 0!==n&&n.phone&&!a.phone&&(b.shippingAddress.phone=b.billingAddress.phone))}),[]),T=(0,u.useCallback)((function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}),[j]),N=(0,u.useCallback)((0,s.default)(a.default.mark((function e(){var t,r,o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(),e.prev=1,e.next=4,C.loadPaymentData(n());case 4:return t=e.sent,I(t),r=JSON.parse(t.paymentMethodData.tokenizationData.token),e.next=9,R.createPaymentMethod({type:"card",card:{token:r.id},billing_details:(0,p.getBillingDetailsFromAddress)(D.current.billingAddress)});case 9:if(!(o=e.sent).error){e.next=12;break}throw new p.StripeError(o.error);case 12:g(o.paymentMethod.id),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),"CANCELED"===(null===e.t0||void 0===e.t0?void 0:e.t0.statusCode)?P():(console.log((0,p.getErrorMessage)(e.t0)),h((0,p.getErrorMessage)(e.t0)));case 18:case"end":return e.stop()}}),e,null,[[1,15]])}))),[R,C,v,n]),B=(0,u.useCallback)((0,s.default)(a.default.mark((function e(){var t,n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!C||!R){e.next=7;break}return e.next=4,f;case 4:t=C.createButton(y({onClick:N},E("buttonStyle"))),"rect"===E("buttonShape")&&(null===(n=t.querySelector("button"))||void 0===n||null===(n=n.classList)||void 0===n||n.remove("new_style")),x(t);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),[R,C,N]),q=(0,u.useMemo)((function(){var e={environment:O,merchantInfo:t,paymentDataCallbacks:{onPaymentAuthorized:function(){return Promise.resolve({transactionState:"SUCCESS"})}}};return L&&(e.paymentDataCallbacks.onPaymentDataChanged=function(e){var t=A.current,n=e.shippingAddress,r=e.shippingOptionData,a=(0,p.getSelectedShippingOption)(r.id),i=["default","shipping_option_unselected"].includes(r.id)?null:r.id;return new Promise((function(e,r){(0,l.default)({method:"POST",url:(0,p.getRoute)("payment/data"),data:{address:(0,m.toCartAddress)(n),shipping_method:i,page_id:null}}).then((function(t){t.code?e(t.data.data):e(t.data.paymentRequestUpdate)})).catch((function(t){e(t.data)})).finally((function(){i&&"shipping_option_unselected"!==i&&t.setSelectedRates.apply(t,(0,o.default)(a))}))}))}),e}),[L]);return(0,u.useEffect)((function(){M(new google.payments.api.PaymentsClient(q))}),[q]),(0,u.useEffect)((function(){B()}),[B]),{button:j,removeButton:T}}},9480:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),n(3303);var r=n(6182);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}))},6182:(e,t,n)=>{var r=n(6087),a=n(4994),o=a(n(4634)),i=a(n(1847)),s=a(n(3693)),c=n(4083),u=n(9954),l=n(1191),p=a(n(5770)),d=n(5437),m=a(n(7249)),f=n(2926),y=["getData","components"],h=["getData"];function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,s.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v,P,E=(0,u.getSettings)("stripe_googlepay_data"),O=(v=new m.default.payments.api.PaymentsClient({environment:E("environment"),merchantInfo:{merchantId:E("merchantId"),merchantName:E("merchantName")}}),P=b(b({},d.BASE_PAYMENT_REQUEST),{},{allowedPaymentMethods:[d.BASE_PAYMENT_METHOD]}),v.isReadyToPay(P).then((function(){return!0})).catch((function(e){return console.log(e),!1}))),S=function(e){var t=e.getData,n=e.components,a=(0,i.default)(e,y),s=n.ValidationInputError,c=(0,l.useErrorMessage)(),d=c.errorMessage,m=c.setErrorMessage;return r.createElement("div",{className:"wc-stripe-gpay-container"},r.createElement(f.Elements,{stripe:u.initStripe},r.createElement(p.default,(0,o.default)({getData:t,canMakePayment:O,setErrorMessage:m},a)),d&&r.createElement(s,{errorMessage:d})))},_=function(e){var t=e.getData,n=((0,i.default)(e,h),t("buttonStyle").buttonType),a=t("editorIcons").long;return r.createElement("div",{className:"gpay-block-editor ".concat(n)},r.createElement("img",{src:a}))};((0,u.isCartPage)()&&E("cartCheckoutEnabled")||(0,u.isCheckoutPage)()&&E("expressCheckoutEnabled"))&&(0,c.registerExpressPaymentMethod)({name:E("name"),canMakePayment:function(){return u.initStripe.then((function(e){return e.error?e:O}))},content:r.createElement(S,{getData:E}),edit:r.createElement(_,{getData:E}),supports:{showSavedCards:E("showSavedCards"),showSaveOption:E("showSaveOption"),features:E("features")}})},9826:(e,t,n)=>{var r=n(4994);Object.defineProperty(t,"__esModule",{value:!0}),t.toCartAddress=t.getTransactionInfo=t.getShippingOptions=t.getShippingOptionParameters=t.getPaymentRequestUpdate=void 0;var a=r(n(1132)),o=n(9954),i=((0,n(5703).getSetting)("stripeGeneralData"),t.getTransactionInfo=function(e){var t=e.billing,n=e.processingCountry,r=e.totalPriceLabel,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ESTIMATED",i=t.cartTotal,c=t.cartTotalItems,u=t.currency;return{countryCode:n,currencyCode:u.code,totalPriceStatus:a,totalPrice:(0,o.removeNumberPrecision)(i.value,u.minorUnit).toString(),displayItems:s(c,u.minorUnit),totalPriceLabel:r}}),s=(t.getPaymentRequestUpdate=function(e){var t=e.billing,n=e.shippingData,r=e.processingCountry,a=e.totalPriceLabel,o=n.needsShipping,s=n.shippingRates,u={newTransactionInfo:i({billing:t,processingCountry:r,totalPriceLabel:a},"FINAL")};return o&&(u.newShippingOptionParameters=c(s)),u},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=[],r=["total_tax","total_shipping"];return e.forEach((function(e){(0<e.value||e.key&&r.includes(e.key))&&n.push({label:e.label,type:"LINE_ITEM",price:(0,o.removeNumberPrecision)(e.value,t).toString()})})),n}),c=t.getShippingOptionParameters=function(e){var t=u(e),n=t.map((function(e){return e.id})).slice(0,1).shift();return e.forEach((function(e,t){e.shipping_rates.forEach((function(e){e.selected&&(n=(0,o.getShippingOptionId)(t,e.rate_id))}))})),{shippingOptions:t,defaultSelectedOptionId:n}},u=t.getShippingOptions=function(e){var t=[];return e.forEach((function(e,n){var r=e.shipping_rates.map((function(e){var t=document.createElement("textarea");t.innerHTML=e.name;var r=(0,o.formatPrice)(e.price,e.currency_code);return{id:(0,o.getShippingOptionId)(n,e.rate_id),label:t.value,description:"".concat(r)}}));t=[].concat((0,a.default)(t),(0,a.default)(r))})),t};t.toCartAddress=(0,o.toCartAddress)({name:function(e,t){return e.first_name=t.split(" ").slice(0,-1).join(" "),e.last_name=t.split(" ").pop(),e},countryCode:"country",address1:"address_1",address2:"address_2",locality:"city",administrativeArea:"state",postalCode:"postcode",email:"email",phoneNumber:"phone"})},2871:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=n(4014);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}));var a=n(8272);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o=n(1143);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var i=n(7735);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var s=n(6489);Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))}));var c=n(2683);Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))}));var u=n(5113);Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))}));var l=n(1767);Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))}));var p=n(1398);Object.keys(p).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===p[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}}))}));var d=n(1404);Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===d[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}}))}));var m=n(9051);Object.keys(m).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===m[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return m[e]}}))}));var f=n(4510);Object.keys(f).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===f[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}}))}))},8272:(e,t,n)=>{var r=n(4994);Object.defineProperty(t,"__esModule",{value:!0}),t.useAfterProcessingPayment=void 0;var a=r(n(9280)),o=r(n(9293)),i=n(6087),s=n(2926),c=n(9954),u=n(1398);t.useAfterProcessingPayment=function(e){var t=e.getData,n=e.eventRegistration,r=e.emitResponse,l=e.activePaymentMethod,p=e.shouldSavePayment,d=void 0!==p&&p,m=e.messageContext,f=void 0===m?null:m,y=(0,s.useStripe)(),h=n.onCheckoutSuccess,g=n.onCheckoutFail;(0,u.useProcessCheckoutError)({emitResponse:r,subscriber:g,messageContext:f}),(0,i.useEffect)((function(){var e=h(function(){var e=(0,o.default)(a.default.mark((function e(n){var o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.redirectUrl,t("name")!==l){e.next=5;break}return e.next=4,(0,c.handleCardAction)({redirectUrl:o,emitResponse:r,name:l,savePaymentMethod:d});case 4:return e.abrupt("return",e.sent);case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return function(){return e()}}),[y,h,l,d])}},1767:(e,t,n)=>{var r=n(4994);Object.defineProperty(t,"__esModule",{value:!0}),t.useExpressBreakpointWidth=t.useBreakpointWidth=void 0;var a=r(n(5715)),o=n(6087),i=n(9954),s=t.useBreakpointWidth=function(e){var t=e.name,n=e.width,r=e.node,s=e.className,c=(0,o.useState)(window.innerWidth),u=(0,a.default)(c,2),l=u[0],p=u[1],d=(0,o.useCallback)((function(e){var t=(0,i.getFromCache)(e);return t?parseInt(t):0}),[]),m=(0,o.useCallback)((function(e,t){return(0,i.storeInCache)(e,t)}),[]);(0,o.useEffect)((function(){var e="function"==typeof r?r():r;if(e){var a=d(t);(!a||n>a)&&m(t,n),e.clientWidth<n?e.classList.add(s):e.clientWidth>a&&e.classList.remove(s)}}),[l,r]),(0,o.useEffect)((function(){var e=function(){return p(window.innerWidth)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}))};t.useExpressBreakpointWidth=function(e){var t=e.payment_method,n=e.width,r=(0,o.useCallback)((function(){var e=document.getElementById("express-payment-method-".concat(t));return e?e.parentNode:null}),[]);s({name:"expressMaxWidth",width:n,node:r,className:"wc-stripe-express__sm"})}},4510:(e,t,n)=>{var r=n(4994);Object.defineProperty(t,"__esModule",{value:!0}),t.useCreatePaymentMethod=void 0;var a=r(n(9280)),o=r(n(9293)),i=r(n(3693)),s=r(n(5715)),c=n(6087),u=n(2926),l=n(9954);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.useCreatePaymentMethod=function(e){var t=e.name,n=e.emitResponse,r=e.billingAddress,p=e.eventRegistration,m=e.shouldSavePayment,f=e.shouldCreatePaymentMethod,y=void 0===f||f,h=(0,c.useState)(""),g=(0,s.default)(h,2),b=g[0],v=g[1],P=p.onPaymentSetup,E=p.onCheckoutSuccess,O=(0,u.useStripe)(),S=(0,u.useElements)(),_=(0,c.useRef)({billingAddress:r,paymentMethodData:{}}),C=(0,c.useCallback)((function(e,t){_.current.paymentMethodData=d(d({},_.current.paymentMethodData),{},(0,i.default)({},e,t))}),[]),M=(0,c.useCallback)((0,o.default)(a.default.mark((function e(){var t,n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=_.current.billingAddress,e.prev=1,e.next=4,S.submit();case 4:if(!(n=e.sent).error){e.next=7;break}throw n.error;case 7:if(!y){e.next=14;break}return e.next=10,O.createPaymentMethod({elements:S,params:{billing_details:d({phone:"",email:""},(0,l.getBillingDetailsFromAddress)(t))}});case 10:if(!(n=e.sent).error){e.next=13;break}throw n.error;case 13:return e.abrupt("return",n.paymentMethod);case 14:return e.abrupt("return",{});case 17:throw e.prev=17,e.t0=e.catch(1),e.t0;case 20:case"end":return e.stop()}}),e,null,[[1,17]])}))),[O,S,y]);return(0,c.useEffect)((function(){_.current=d(d({},_.current),{},{billingAddress:r,paymentMethodType:b})}),[r,b]),(0,c.useEffect)((function(){var e=P((0,o.default)(a.default.mark((function e(){var r,o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_.current.paymentMethodType,e.prev=1,e.next=4,M();case 4:return o=e.sent,e.abrupt("return",(0,l.ensureSuccessResponse)(n.responseTypes,{meta:{paymentMethodData:d((0,i.default)((0,i.default)((0,i.default)({},"".concat(t,"_token_key"),o.id),"".concat(t,"_save_source_key"),m),"_stripe_payment_method_type",r),_.current.paymentMethodData)}}));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",(0,l.ensureErrorResponse)(n.responseTypes,e.t0,{messageContext:n.noticeContexts.PAYMENTS}));case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))));return e}),[O,S,P,m,M]),(0,c.useEffect)((function(){return E((0,o.default)(a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))))}),[E]),{paymentMethodType:b,createPaymentMethod:M,setPaymentMethodType:v,addPaymentMethodData:C}}},1404:(e,t,n)=>{var r=n(4994);Object.defineProperty(t,"__esModule",{value:!0}),t.useDeferredPaymentIntent=void 0;var a=r(n(9280)),o=r(n(9293)),i=r(n(3693)),s=n(6087),c=n(2926),u=n(9954);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.useDeferredPaymentIntent=function(e){var t=e.billingAddress,n=e.eventRegistration,r=e.emitResponse,l=e.name,d=e.shouldSavePayment,m=e.noticeContexts,f=n.onPaymentSetup,y=n.onCheckoutSuccess,h=(0,s.useRef)({billingAddress:t}),g=(0,s.useRef)({}),b=(0,c.useStripe)(),v=(0,c.useElements)(),P=(0,s.useCallback)((function(e,t){return{meta:{paymentMethodData:p((0,i.default)((0,i.default)({},"".concat(l,"_token_key"),e),"".concat(l,"_save_source_key"),t),g.current)}}}),[]),E=(0,s.useCallback)((function(e){g.current=p(p({},g.current),e)}),[]),O=(0,s.useCallback)((0,o.default)(a.default.mark((function e(){var t,n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.current.billingAddress,e.next=3,v.submit();case 3:return e.next=5,b.createPaymentMethod({elements:v,params:{billing_details:p({phone:"",email:""},(0,u.getBillingDetailsFromAddress)(t))}});case 5:if(!(n=e.sent).error){e.next=8;break}return e.abrupt("return",n);case 8:return e.abrupt("return",n.paymentMethod);case 9:case"end":return e.stop()}}),e)}))),[b,v]);return(0,s.useEffect)((function(){h.current.billingAddress=t})),(0,s.useEffect)((function(){var e=f((0,o.default)(a.default.mark((function e(){var t,n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O();case 3:if(!(t=e.sent).error){e.next=6;break}throw new u.StripeError(t.error);case 6:return n=t.id,h.current.paymentMethod=n,e.abrupt("return",(0,u.ensureSuccessResponse)(r.responseTypes,P(n,d)));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",(0,u.ensureErrorResponse)(r.responseTypes,e.t0,{messageContext:m.PAYMENTS}));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))));return function(){return e()}}),[f,O,d]),(0,s.useEffect)((function(){var e=y(function(){var e=(0,o.default)(a.default.mark((function e(t){var n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.redirectUrl,e.next=3,(0,u.handleCardAction)({redirectUrl:n,emitResponse:r,name:l,savePaymentMethod:d,data:(0,i.default)({},"".concat(l,"_token_key"),h.current.paymentMethod)});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return function(){return e()}}),[y,d,l]),{createPaymentMethod:O,addPaymentMethodData:E}}},6489:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useExportedValues=void 0;var r=n(6087);t.useExportedValues=function(){return(0,r.useRef)({}).current}},5113:(e,t,n)=>{var r=n(4994);Object.defineProperty(t,"__esModule",{value:!0}),t.usePaymentEvents=void 0;var a=r(n(3693)),o=r(n(5715)),i=n(6087),s=n(9954);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.usePaymentEvents=function(e){var t=e.billing,n=e.shippingData,r=e.eventRegistration,c=r.onShippingRateSuccess,l=r.onShippingRateFail,p=r.onShippingRateSelectSuccess,d=(0,i.useRef)(t),m=(0,i.useRef)(n),f=(0,i.useState)(null),y=(0,o.default)(f,2),h=y[0],g=y[1],b=(0,i.useState)({onShippingChanged:!1}),v=(0,o.default)(b,2),P=v[0],E=v[1],O=(0,i.useCallback)((function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2]?g((0,a.default)({},e,t)):E(u(u({},P),{},(0,a.default)({},e,t)))}),[P,E]),S=(0,i.useCallback)((function(e){P[e]&&(delete P[e],E(P))}),[P]),_=(0,i.useCallback)((function(){var e=m.current,t=d.current;if(P.onShippingChanged&&!e.isSelectingRate&&!e.shippingRatesLoading){var n=P.onShippingChanged,r=!0;(0,s.hasShippingRates)(e.shippingRates)||(r=!1),n(r,{billing:t,shipping:e}),S("onShippingChanged")}}),[P,S]);return(0,i.useEffect)((function(){d.current=t,m.current=n})),(0,i.useEffect)((function(){h&&h.onShippingChanged&&(h.onShippingChanged(!0,{billing:d.current,shipping:m.current}),g(null))}),[h]),(0,i.useEffect)((function(){var e=c(_),t=p(_),n=l((function(e){e.hasInvalidAddress,e.hasError,P.onShippingChanged&&((0,P.onShippingChanged)(!1),S("onShippingChanged"))}));return function(){e(),n(),t()}}),[P,c,l,p]),{addPaymentEvent:O,removePaymentEvent:S}}},2683:(e,t,n)=>{var r=n(4994);Object.defineProperty(t,"__esModule",{value:!0}),t.usePaymentRequest=void 0;var a=r(n(1132)),o=r(n(3693)),i=r(n(5715)),s=n(6087),c=n(9954),u=(r(n(923)),r(n(1455)));function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=(0,c.toCartAddress)();t.usePaymentRequest=function(e){var t=e.getData,n=e.onClose,r=e.stripe,o=e.billing,l=e.shippingData,m=e.setPaymentMethod,f=e.exportedValues,y=e.canPay,h=(l.shippingAddress,l.needsShipping),g=l.shippingRates,b=o.cartTotalItems,v=o.currency,P=o.cartTotal,E=(0,s.useState)(null),O=(0,i.default)(E,2),S=O[0],_=O[1],C=(0,s.useRef)({}),M=(0,s.useRef)(l),w=(0,s.useRef)(o);(0,s.useEffect)((function(){M.current=l,w.current=o}),[l,o]),(0,s.useEffect)((function(){if(r){var e={country:t("countryCode"),currency:null==v?void 0:v.code.toLowerCase(),total:{amount:P.value,label:P.label,pending:!0},requestPayerName:!0,requestPayerEmail:!0,requestPayerPhone:(0,c.isFieldRequired)(h?"shipping-phone":"phone"),requestShipping:h,displayItems:(0,c.getDisplayItems)(b,v)};e.requestShipping&&(e.shippingOptions=(0,c.getShippingOptions)(g)),C.current=e;var n=r.paymentRequest(C.current);n.canMakePayment().then((function(e){y(e)?_(n):_(null)}))}}),[r,P.value,h,g,b,v.code]);var k=(0,s.useCallback)((function(e){var n=M.current,r=e.shippingAddress,a=d(r);(0,u.default)({method:"POST",url:(0,c.getRoute)("shipping-address"),data:{address:a,payment_method:t("name"),page_id:"checkout"}}).then((function(t){e.updateWith(t.data.newData),n.setShippingAddress(p(p({},n.shippingAddress),a))})).catch((function(e){console.log(e)}))}),[]),j=(0,s.useCallback)((function(e){var n=e.shippingOption,r=M.current;(0,u.default)({method:"POST",url:(0,c.getRoute)("shipping-method"),data:{shipping_method:n.id,payment_method:t("name"),page_id:null}}).then((function(t){e.updateWith(t.data.newData),r.setSelectedRates.apply(r,(0,a.default)((0,c.getSelectedShippingOption)(n.id)))})).catch((function(e){console.log(e)}))}),[]),x=(0,s.useCallback)((function(e){var t=M.current.shippingAddress,n=w.current,r=e.paymentMethod,a=e.payerName,o=void 0===a?null:a,i=e.payerEmail,s=void 0===i?null:i,c=e.payerPhone,u=void 0===c?null:c;null!=r&&r.billing_details.address&&(f.billingAddress=p(p({},n.billingAddress),d(r.billing_details.address,{payerName:o})),!f.billingAddress.email&&s&&(f.billingAddress.email=s),!f.billingAddress.phone&&u&&(f.billingAddress.phone=u)),e.shippingAddress&&(f.shippingAddress=p(p({},t),d(e.shippingAddress)),!f.shippingAddress.phone&&u&&(f.shippingAddress.phone=u)),m(r.id),e.complete("success")}),[]);return(0,s.useEffect)((function(){S&&(C.current.requestShipping&&(S.on("shippingaddresschange",k),S.on("shippingoptionchange",j)),S.on("cancel",n),S.on("paymentmethod",x))}),[n,S,k,x]),{paymentRequest:S}}},1398:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useProcessCheckoutError=void 0;var r=n(6087);t.useProcessCheckoutError=function(e){var t=e.emitResponse,n=e.subscriber,a=e.messageContext,o=void 0===a?null:a;(0,r.useEffect)((function(){var e=n((function(e){var n;return null!=e&&null!==(n=e.processingResponse.paymentDetails)&&void 0!==n&&n.stripeErrorMessage?{type:t.responseTypes.ERROR,message:e.processingResponse.paymentDetails.stripeErrorMessage,messageContext:o||t.noticeContexts.PAYMENTS}:null}));return function(){return e()}}),[n,o,t.responseTypes.ERROR,t.noticeContexts.PAYMENTS])}},9051:(e,t,n)=>{var r=n(4994);Object.defineProperty(t,"__esModule",{value:!0}),t.useProcessCheckoutSuccess=void 0;var a=r(n(9280)),o=r(n(9293)),i=r(n(3693)),s=n(6087),c=n(2926),u=n(9954);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.useProcessCheckoutSuccess=function(e){var t=e.name,n=e.emitResponse,r=e.billingAddress,i=e.onCheckoutSuccess,l=e.activePaymentMethod,d=(0,s.useRef)({emitResponse:n,billingAddress:r}),m=(0,c.useStripe)(),f=(0,c.useElements)();(0,s.useEffect)((function(){d.current=p(p({},d.current),{},{billingAddress:r,emitResponse:n})}),[n,r]),(0,s.useEffect)((function(){var e=i(function(){var e=(0,o.default)(a.default.mark((function e(n){var r,o,i,s,c;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.redirectUrl,l!==t){e.next=7;break}if(!(o=(0,u.isNextActionRequired)(r))){e.next=7;break}return i=d.current,s=i.billingAddress,c=i.emitResponse,e.next=6,(0,u.handleNextAction)({args:o,stripe:m,elements:f,emitResponse:c,billingAddress:s});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return e}),[m,f,i,l])}},4014:(e,t,n)=>{var r=n(4994);Object.defineProperty(t,"__esModule",{value:!0}),t.useProcessPaymentIntent=void 0;var a=r(n(9280)),o=r(n(9293)),i=r(n(3693)),s=r(n(5715)),c=n(6087),u=n(2926),l=n(9954);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(0,l.getSettings)("stripeGeneralData"),t.useProcessPaymentIntent=function(e){var t=e.getData,n=e.billing,r=e.shippingData,p=e.onPaymentSetup,m=e.emitResponse,f=e.error,y=e.onSubmit,h=e.activePaymentMethod,g=e.paymentType,b=void 0===g?"card":g,v=e.setupIntent,P=void 0===v?null:v,E=e.removeSetupIntent,O=void 0===E?null:E,S=e.shouldSavePayment,_=void 0!==S&&S,C=e.exportedValues,M=void 0===C?{}:C,w=e.getPaymentMethodArgs,k=void 0===w?function(){return{}}:w,j=n.billingAddress,x=r.shippingAddress,D=(0,c.useState)(null),A=(0,s.default)(D,2),L=A[0],R=A[1],I=(0,u.useStripe)(),T=(0,c.useRef)(k),N=(0,c.useRef)({});(0,c.useEffect)((function(){T.current=k}),[k]);var B=(0,c.useCallback)((function(e){N.current=d(d({},N.current),e)}),[]),q=(0,c.useCallback)((function(){return d(d({},{type:b,billing_details:(0,l.getBillingDetailsFromAddress)(null!=M&&M.billingAddress?M.billingAddress:j)}),T.current())}),[j,b,k]),F=(0,c.useCallback)((function(e,n){var r={meta:{paymentMethodData:d((0,i.default)((0,i.default)({},"".concat(t("name"),"_token_key"),e),"".concat(t("name"),"_save_source_key"),n),N.current)}};return null!=M&&M.billingAddress&&(r.meta.billingAddress=d(d({},l.DEFAULT_BILLING_ADDRESS),M.billingAddress)),null!=M&&M.shippingAddress&&(r.meta.shippingAddress=d(d({},l.DEFAULT_SHIPPING_ADDRESS),M.shippingAddress)),r}),[j,x]);return(0,c.useEffect)((function(){L&&"string"==typeof L&&y()}),[L,y]),(0,c.useEffect)((function(){var e=p((0,o.default)(a.default.mark((function e(){var n,r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h===t("name")){e.next=2;break}return e.abrupt("return",null);case 2:if(n=null,r=null,e.prev=3,!f){e.next=6;break}throw new l.StripeError(f);case 6:if(!P){e.next=16;break}return e.next=9,I.confirmCardSetup(P.client_secret,{payment_method:q()});case 9:if(!(n=e.sent).error){e.next=12;break}throw new l.StripeError(n.error);case 12:r=n.setupIntent.payment_method,O(),e.next=26;break;case 16:if(!L){e.next=20;break}r=L,e.next=26;break;case 20:return e.next=22,I.createPaymentMethod(q());case 22:if(!(n=e.sent).error){e.next=25;break}throw new l.StripeError(n.error);case 25:r=n.paymentMethod.id;case 26:return e.abrupt("return",(0,l.ensureSuccessResponse)(m.responseTypes,F(r,_)));case 29:return e.prev=29,e.t0=e.catch(3),console.log(e.t0),R(null),e.abrupt("return",(0,l.ensureErrorResponse)(m.responseTypes,e.t0.error,{messageContext:m.noticeContexts.PAYMENTS}));case 34:case"end":return e.stop()}}),e,null,[[3,29]])}))));return function(){return e()}}),[L,j,p,I,P,h,_]),{setPaymentMethod:R,getCreatePaymentMethodArgs:q,addPaymentMethodData:B}}},1143:(e,t,n)=>{var r=n(4994);Object.defineProperty(t,"__esModule",{value:!0}),t.useSetupIntent=void 0;var a=r(n(9280)),o=r(n(9293)),i=r(n(5715)),s=n(6087),c=r(n(1455)),u=n(9954);t.useSetupIntent=function(e){var t=e.cartTotal,n=e.setError,r=(0,s.useState)((0,u.getFromCache)("setupIntent")),l=(0,i.default)(r,2),p=l[0],d=l[1];(0,s.useEffect)((function(){var e=function(){var e=(0,o.default)(a.default.mark((function e(){var t;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,c.default)({url:(0,u.getRoute)("create/setup_intent"),method:"POST"});case 4:(t=e.sent).code?n(t.message):((0,u.storeInCache)("setupIntent",t.intent),d(t.intent));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,u.cartContainsPreOrder)()||(0,u.cartContainsSubscription)()&&0==t.value?p||e():d(null)}),[t.value]);var m=(0,s.useCallback)((function(){(0,u.deleteFromCache)("setupIntent")}),[t.value]);return{setupIntent:p,removeSetupIntent:m}}},7735:(e,t,n)=>{var r=n(4994);Object.defineProperty(t,"__esModule",{value:!0}),t.useStripeError=void 0;var a=r(n(5715)),o=n(6087);t.useStripeError=function(){var e=(0,o.useState)(!1),t=(0,a.default)(e,2);return[t[0],t[1]]}},5540:(e,t,n)=>{var r=n(6087),a=n(4994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=(0,i.useSelect)((function(e){return e(s.CART_STORE_KEY).getCartData()})),t={mode:"payment",paymentMethodCreation:"manual",amount:parseInt(e.totals.total_price),currency:e.totals.currency_code.toLowerCase(),payment_method_types:["card","link"]};return 0===parseInt(e.totals.total_price)&&(t={mode:"setup",currency:e.totals.currency_code.toLowerCase()}),r.createElement(p.default,null,r.createElement(o.Elements,{stripe:l.initStripe,options:t},r.createElement(m,{cart:e})))};var o=n(2926),i=n(7143),s=n(7594),c=n(4083),u=n(6166),l=n(9954),p=a(n(1422)),d=(0,l.getSettings)("stripe_link_checkout_data"),m=function(e){var t=e.cart.billingAddress.email,n=d("linkIcon");return d("popupEnabled")&&(0,u.useLink)({email:t}),(0,u.useLinkIcon)({enabled:n,icon:n}),r.createElement("div",{style:{display:"none"}},r.createElement(o.PaymentElement,{options:{fields:{billingDetails:{address:"never"}},wallets:{applePay:"never",googlePay:"never"}}}))};(0,c.registerExpressPaymentMethod)({name:d("name"),canMakePayment:function(e){return!1},content:r.createElement(m,null),edit:r.createElement(m,null),supports:{showSavedCards:d("showSavedCards"),showSaveOption:d("showSaveOption"),features:d("features")}})},1422:(e,t,n)=>{var r=n(4994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(7383)),o=r(n(4579)),i=r(n(8452)),s=r(n(3072)),c=r(n(9511));function u(e,t,n){return t=(0,s.default)(t),(0,i.default)(e,l()?Reflect.construct(t,n||[],(0,s.default)(e).constructor):t.apply(e,n))}function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(l=function(){return!!e})()}var p=function(e){function t(e){var n;return(0,a.default)(this,t),(n=u(this,t,[e])).state={hasError:!1},n}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return this.state.hasError?null:this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}])}(n(6087).Component);t.default=p},6166:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=n(9614);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}));var a=n(5594);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}))},5594:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useLinkIcon=void 0;var r=n(6087),a=(t.useLinkIcon=function(e){var t=e.enabled,n=(e.email,e.icon);(0,r.useEffect)((function(){if(t){var e=document.getElementById("email");if(e&&!e.classList.contains("stripe-link-icon-container")){a(".wc-stripe-link-icon"),e.classList.add("stripe-link-icon-container");var r=document.createElement("template");r.innerHTML=n,e.parentElement.append(r.content.firstChild)}}}))},function(e){var t=document.querySelector(e);t&&t.remove()})},9614:(e,t,n)=>{var r=n(4994);Object.defineProperty(t,"__esModule",{value:!0}),t.useLink=void 0;var a=r(n(9280)),o=r(n(3693)),i=r(n(9293)),s=r(n(5715)),c=n(6087),u=n(2926),l=n(7143),p=n(7594),d=n(9954);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=(0,d.toCartAddress)(),h=(0,d.getSettings)("stripe_link_checkout_data");t.useLink=function(e){var t=e.email,n=(0,c.useState)(),r=(0,s.default)(n,2),o=r[0],m=r[1],g=(0,u.useStripe)(),b=(0,u.useElements)(),v=(0,c.useRef)({email:t,oldEmail:t,isProcessing:!1}),P=h("launchLink"),E=(0,l.useDispatch)(p.PAYMENT_STORE_KEY),O=E.__internalSetActivePaymentMethod,S=E.__internalSetPaymentMethodData,_=E.__internalSetExpressPaymentError,C=E.__internalSetExpressPaymentStarted,M=(0,l.useDispatch)(p.CHECKOUT_STORE_KEY).__internalSetBeforeProcessing,w=(0,l.useDispatch)(p.CART_STORE_KEY),k=w.setBillingAddress,j=w.setShippingAddress,x=(0,l.useSelect)((function(e){return{isProcessing:e(p.PAYMENT_STORE_KEY).isPaymentProcessing()}}));(0,c.useEffect)((function(){g&&b&&!o&&m(g.linkAutofillModal(b))}),[g,b,o]),(0,c.useEffect)((function(){if(o&&P){var e=v.current.email;o.launch({email:e})}}),[o]),(0,c.useEffect)((function(){var e=v.current,n=e.oldEmail,r=void 0===n?"":n,a=e.isProcessing;o&&r!==t&&(void 0===a||!a)&&(o.launch({email:t}),v.current.oldEmail=t)}),[o,t]),(0,c.useEffect)((function(){v.current.email=t,v.current.isProcessing=x.isProcessing}),[t,x.isProcessing]),(0,c.useEffect)((function(){o&&(o.on("autofill",function(){var e=(0,i.default)(a.default.mark((function e(t){var n,r,o,i,s,c;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v.current.event=t,n=t.value,r=n.billingAddress,o=void 0===r?null:r,i=n.shippingAddress,s=void 0===i?null:i,e.prev=2,e.next=5,b.submit();case 5:return e.next=7,g.createPaymentMethod({elements:b,params:{billing_details:o}});case 7:if(!(c=e.sent).error){e.next=10;break}throw c.error;case 10:o&&k(f(f(f({},d.DEFAULT_BILLING_ADDRESS),y(f(f({},o.address),{},{recipient:o.name}))),{},{email:v.current.email})),s&&j(f(f({},d.DEFAULT_SHIPPING_ADDRESS),y(f(f({},s.address),{},{recipient:s.name})))),S({stripe_cc_token_key:c.paymentMethod.id,stripe_cc_save_source_key:!1}),M(),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(2),console.log(e.t0),_(e.t0.message);case 20:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(t){return e.apply(this,arguments)}}()),o.on("authenticated",(function(e){C(),O(h("name"))})))}),[o,g,b,M,k,j,S,O,_,C])}},8025:(e,t,n)=>{var r=n(4994),a=n(1e3),o=r(n(45)),i=r(n(5540));(0,a.registerCheckoutBlock)({metadata:o.default,component:i.default})},1739:(e,t,n)=>{var r=n(6087),a=n(4994),o=n(4083),i=n(9954),s=n(5076),c=a(n(1756)),u=n(3061),l=(0,i.getSettings)("stripe_ach_data");l()&&(0,o.registerPaymentMethod)({name:l("name"),label:r.createElement(s.PaymentMethodLabel,{title:l("title"),paymentMethod:l("name"),icons:l("icons")}),ariaLabel:"ACH Payment",canMakePayment:function(e){return"USD"===e.cartTotals.currency_code&&"US"===l("accountCountry")},content:r.createElement(s.PaymentMethod,{content:u.LocalPaymentIntentContent,getData:l,mandate:!l("mandate"),mandateText:l("mandateText")}),edit:r.createElement(s.PaymentMethod,{content:u.LocalPaymentIntentContent,getData:l,mandate:!l("mandate"),mandateText:l("mandateText")}),savedTokenComponent:r.createElement(c.default,{getData:l}),placeOrderButtonLabel:l("placeOrderButtonLabel"),supports:{showSavedCards:l("showSavedCards"),showSaveOption:l("showSaveOption"),features:l("features")}})},5932:(e,t,n)=>{var r=n(6087),a=n(4994),o=a(n(3693)),i=a(n(5715)),s=a(n(1847)),c=n(6087),u=n(4083),l=n(9954),p=n(3061),d=n(5076),m=n(2926),f=n(453),y=["title","components"];function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var g=(0,l.getSettings)("stripe_affirm_data"),b=function(e){var t,n=e.title,a=e.components,u=(0,s.default)(e,y),p=a.PaymentMethodLabel,b=(0,c.useState)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({amount:null===(t=g("cartTotals"))||void 0===t?void 0:t.value,currency:g("currency")},g("messageOptions"))),v=(0,i.default)(b,2),P=v[0],E=v[1];return(0,c.useEffect)((function(){var e=function(e){E(e.detail.options)};return document.addEventListener("stripeAffirmChange",e),function(){return document.removeEventListener("stripeAffirmChange",e)}}),[]),g("paymentSections").includes("checkout")?r.createElement("div",{className:"wc-stripe-label-container"},r.createElement(p,{text:n}),r.createElement(f.SilentErrorBoundary,null,r.createElement("div",{className:"wc-stripe-affirm-message-container"},r.createElement(m.Elements,{stripe:l.initStripe,options:{locale:g("elementOptions").locale}},r.createElement(m.AffirmMessageElement,{options:P}))))):r.createElement(d.PaymentMethodLabel,{paymentMethod:u.paymentMethod,title:n,icons:u.icons,components:a})};g()&&(0,u.registerPaymentMethod)({name:g("name"),label:r.createElement(b,{title:g("title"),paymentMethod:g("name"),icons:g("icon")}),ariaLabel:"Affirm",placeOrderButtonLabel:g("placeOrderButtonLabel"),canMakePayment:function(e){var t,n=e.cart,r=n.cartTotals,a=n.billingAddress,o=r.currency_code,i=parseInt(r.total_price);return g("requirements"),g("accountCountry"),t={amount:i,currency:o},document.dispatchEvent(new CustomEvent("stripeAffirmChange",{detail:{options:t}})),function(e){var t=e.amount,n=e.billingCountry,r=void 0===n?null:n,a=e.currency,o=g("requirements"),i=g("accountCountry");return r?a in o&&i===r&&5e3<=t&&t<=3e6:a in o&&5e3<=t&&t<=3e6}({amount:i,billingCountry:a.country,currency:o})},content:r.createElement(d.PaymentMethod,{content:p.LocalPaymentIntentContent,getData:g,confirmationMethod:"confirmAffirmPayment"}),edit:r.createElement(d.PaymentMethod,{content:p.LocalPaymentIntentContent,getData:g}),supports:{showSavedCards:!1,showSaveOption:!1,features:g("features")}})},5255:(e,t,n)=>{var r=n(6087),a=n(4994),o=a(n(3693)),i=a(n(5715)),s=a(n(1847)),c=n(6087),u=n(4083),l=n(9954),p=n(3061),d=n(5076),m=n(2926),f=n(453),y=["title","getData"];function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=(0,l.getSettings)("stripe_afterpay_data"),v=function(e){var t=e.title,n=e.getData,a=(0,s.default)(e,y),o=a.components.PaymentMethodLabel,u=(0,c.useState)({amount:n("cartTotal"),currency:n("currency"),isCartEligible:!0}),p=(0,i.default)(u,2),h=p[0],b=p[1];return(0,c.useEffect)((function(){var e=function(e){return b(e.detail.options)};return document.addEventListener("stripeAfterpayChange",e),function(){return document.removeEventListener("stripeAfterpayChange",e)}}),[]),n("paymentSections").includes("checkout")?r.createElement("div",{className:"wc-stripe-label-container"},r.createElement(o,{text:t}),r.createElement("div",{className:"wc-stripe-afterpay-message-container"},r.createElement(f.SilentErrorBoundary,null,r.createElement(m.Elements,{stripe:l.initStripe,options:{locale:n("elementOptions").locale}},r.createElement("div",{className:"wc-stripe-blocks-afterpay__label"},r.createElement(m.AfterpayClearpayMessageElement,{options:g(g({},n("checkoutMessageOptions")),h)})))))):r.createElement(d.PaymentMethodLabel,{paymentMethod:a.paymentMethod,title:t,icons:a.icons,components:a.components})};b()&&(0,u.registerPaymentMethod)({name:b("name"),label:r.createElement(v,{title:b("title"),paymentMethod:b("name"),icons:b("icon"),getData:b}),ariaLabel:b("title"),placeOrderButtonLabel:b("placeOrderButtonLabel"),canMakePayment:(0,p.canMakePayment)(b,(function(e){e.settings;var t,n=e.cartTotals,r=e.billingAddress,a=n.currency_code,o=n.currency_minor_unit,i=n.total_price,s=r.country,c=function(e){var t=e.total,n=e.currency,r=!1,a=e.country,o=b("requiredParams"),i=b("accountCountry"),s=!!o.hasOwnProperty(n)&&o[n];if(s){var c=null==s?void 0:s[0];Array.isArray(c)||(c=[c]),r=c.indexOf(i)>-1&&("EUR"!==n||!a||i===a)&&t>(null==s?void 0:s[1])&&t<(null==s?void 0:s[2])}return r}({total:parseInt(i)/Math.pow(10,o),currency:a,country:s});return t={amount:parseInt(n.total_price),currency:a,isCartEligible:c},document.dispatchEvent(new CustomEvent("stripeAfterpayChange",{detail:{options:t}})),c})),content:r.createElement(d.PaymentMethod,{content:p.LocalPaymentIntentContent,getData:b}),edit:r.createElement(d.PaymentMethod,{content:p.LocalPaymentIntentContent,getData:b}),supports:{showSavedCards:!1,showSaveOption:!1,features:b("features")}})},5529:(e,t,n)=>{var r=n(6087),a=n(4083),o=n(9954),i=n(3061),s=n(6214),c=n(5076),u=(0,o.getSettings)("stripe_alipay_data");u()&&(0,a.registerPaymentMethod)({name:u("name"),label:r.createElement(s.PaymentMethodLabel,{title:u("title"),paymentMethod:u("name"),icons:u("icon")}),ariaLabel:"Alipay",placeOrderButtonLabel:u("placeOrderButtonLabel"),canMakePayment:(0,i.canMakePayment)(u),content:r.createElement(c.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:u}),edit:r.createElement(c.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:u}),supports:{showSavedCards:!1,showSaveOption:!1,features:u("features")}})},7514:(e,t,n)=>{var r=n(6087),a=n(4083),o=n(9954),i=n(3061),s=n(5076),c=(0,o.getSettings)("stripe_amazonpay_data");c()&&(0,a.registerPaymentMethod)({name:c("name"),label:r.createElement(s.PaymentMethodLabel,{title:c("title"),paymentMethod:c("name"),icons:c("icon")}),ariaLabel:"Ideal",placeOrderButtonLabel:c("placeOrderButtonLabel"),canMakePayment:(0,i.canMakePayment)(c),content:r.createElement(s.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:c}),edit:r.createElement(s.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:c}),supports:{showSavedCards:!1,showSaveOption:!1,features:c("features")}})},7496:(e,t,n)=>{var r=n(6087),a=n(4083),o=n(9954),i=n(3061),s=n(5076),c=(0,o.getSettings)("stripe_bancontact_data");c()&&(0,a.registerPaymentMethod)({name:c("name"),label:r.createElement(s.PaymentMethodLabel,{title:c("title"),paymentMethod:c("name"),icons:c("icon")}),ariaLabel:"Bancontact",placeOrderButtonLabel:c("placeOrderButtonLabel"),canMakePayment:(0,i.canMakePayment)(c),content:r.createElement(s.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:c}),edit:r.createElement(s.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:c}),supports:{showSavedCards:!1,showSaveOption:!1,features:c("features")}})},88:(e,t,n)=>{var r=n(6087),a=n(4083),o=n(9954),i=n(3061),s=n(5076),c=(0,o.getSettings)("stripe_becs_data");c()&&(0,a.registerPaymentMethod)({name:c("name"),label:r.createElement(s.PaymentMethodLabel,{title:c("title"),paymentMethod:c("name"),icons:c("icon")}),ariaLabel:"BECS",placeOrderButtonLabel:c("placeOrderButtonLabel"),canMakePayment:(0,i.canMakePayment)(c),content:r.createElement(s.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:c}),edit:r.createElement(s.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:c}),supports:{showSavedCards:!1,showSaveOption:!1,features:c("features")}})},7878:(e,t,n)=>{var r=n(6087),a=n(4083),o=n(9954),i=n(5076),s=n(3061),c=(0,o.getSettings)("stripe_blik_data");c()&&(0,a.registerPaymentMethod)({name:c("name"),label:r.createElement(i.PaymentMethodLabel,{title:c("title"),paymentMethod:c("name"),icons:c("icon")}),ariaLabel:"BLIK",placeOrderButtonLabel:c("placeOrderButtonLabel"),canMakePayment:(0,s.canMakePayment)(c),content:r.createElement(i.PaymentMethod,{content:s.LocalPaymentIntentContent,getData:c,shouldCreatePaymentMethod:!1}),edit:r.createElement(i.PaymentMethod,{content:s.LocalPaymentIntentContent,getData:c}),supports:{showSavedCards:!1,showSaveOption:!1,features:c("features")}})},170:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=n(7878);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}))},7110:(e,t,n)=>{var r=n(6087),a=n(4083),o=n(9954),i=n(3061),s=n(5076),c=(0,o.getSettings)("stripe_boleto_data");c()&&(0,a.registerPaymentMethod)({name:c("name"),label:r.createElement(s.PaymentMethodLabel,{title:c("title"),paymentMethod:c("name"),icons:c("icon")}),ariaLabel:"Boleto",placeOrderButtonLabel:c("placeOrderButtonLabel"),canMakePayment:(0,i.canMakePayment)(c),content:r.createElement(s.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:c,shouldCreatePaymentMethod:!1}),edit:r.createElement(s.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:c,shouldCreatePaymentMethod:!1}),supports:{showSavedCards:!1,showSaveOption:!1,features:c("features")}})},5149:(e,t,n)=>{var r=n(6087),a=n(4083),o=n(9954),i=n(3061),s=n(5076),c=(0,o.getSettings)("stripe_cashapp_data");c()&&(0,a.registerPaymentMethod)({name:c("name"),label:r.createElement(s.PaymentMethodLabel,{title:c("title"),paymentMethod:c("name"),icons:c("icon")}),ariaLabel:"Ideal",placeOrderButtonLabel:c("placeOrderButtonLabel"),canMakePayment:(0,i.canMakePayment)(c),content:r.createElement(s.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:c}),edit:r.createElement(s.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:c}),supports:{showSavedCards:!1,showSaveOption:!1,features:c("features")}})},5265:(e,t,n)=>{var r=n(6087),a=n(4083),o=n(9954),i=n(3061),s=n(5076),c=(0,o.getSettings)("stripe_eps_data");c()&&(0,a.registerPaymentMethod)({name:c("name"),label:r.createElement(s.PaymentMethodLabel,{title:c("title"),paymentMethod:c("name"),icons:c("icon")}),ariaLabel:"EPS",placeOrderButtonLabel:c("placeOrderButtonLabel"),canMakePayment:(0,i.canMakePayment)(c),content:r.createElement(s.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:c}),edit:r.createElement(s.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:c}),supports:{showSavedCards:!1,showSaveOption:!1,features:c("features")}})},8113:(e,t,n)=>{var r=n(6087),a=n(4083),o=n(9954),i=n(3061),s=n(5076),c=(0,o.getSettings)("stripe_fpx_data");c()&&(0,a.registerPaymentMethod)({name:c("name"),label:r.createElement(s.PaymentMethodLabel,{title:c("title"),paymentMethod:c("name"),icons:c("icon")}),ariaLabel:"FPX",placeOrderButtonLabel:c("placeOrderButtonLabel"),canMakePayment:(0,i.canMakePayment)(c),content:r.createElement(s.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:c}),edit:r.createElement(s.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:c}),supports:{showSavedCards:!1,showSaveOption:!1,features:c("features")}})},9392:(e,t,n)=>{var r=n(6087),a=n(4083),o=n(9954),i=n(3061),s=n(5076),c=(0,o.getSettings)("stripe_giropay_data");c()&&(0,a.registerPaymentMethod)({name:c("name"),label:r.createElement(s.PaymentMethodLabel,{title:c("title"),paymentMethod:c("name"),icons:c("icon")}),ariaLabel:"Giropay",placeOrderButtonLabel:c("placeOrderButtonLabel"),canMakePayment:(0,i.canMakePayment)(c),content:r.createElement(s.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:c}),edit:r.createElement(s.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:c}),supports:{showSavedCards:!1,showSaveOption:!1,features:c("features")}})},3879:(e,t,n)=>{var r=n(6087),a=n(4083),o=n(9954),i=n(3061),s=n(5076),c=(0,o.getSettings)("stripe_grabpay_data");c()&&(0,a.registerPaymentMethod)({name:c("name"),label:r.createElement(s.PaymentMethodLabel,{title:c("title"),paymentMethod:c("name"),icons:c("icon")}),ariaLabel:"GrabPay",placeOrderButtonLabel:c("placeOrderButtonLabel"),canMakePayment:(0,i.canMakePayment)(c),content:r.createElement(s.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:c,confirmationMethod:"confirmGrabPayPayment"}),edit:r.createElement(s.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:c}),supports:{showSavedCards:!1,showSaveOption:!1,features:c("features")}})},2248:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=n(4545);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}));var a=n(8403);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o=n(1900);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}))},4545:(e,t,n)=>{var r=n(4994);Object.defineProperty(t,"__esModule",{value:!0}),t.useAfterProcessLocalPayment=void 0;var a=r(n(9280)),o=r(n(3693)),i=r(n(1847)),s=r(n(9293)),c=n(6087),u=n(2926),l=n(9954),p=["client_secret","return_url","billing_details","confirmation_args"];function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.useAfterProcessLocalPayment=function(e){var t=e.getData,n=e.billingAddress,r=e.eventRegistration,o=e.emitResponse,d=e.activePaymentMethod,f=e.confirmationMethod,y=e.getPaymentMethodArgs,h=void 0===y?function(){return{}}:y,g=(0,u.useStripe)(),b=r.onCheckoutSuccess,v=r.onCheckoutFail,P=(0,c.useRef)(n),E=(0,c.useRef)(h);(0,c.useEffect)((function(){P.current=n}),[n]),(0,c.useEffect)((function(){E.current=h}),[h]),(0,c.useEffect)((function(){var e=b(function(){var e=(0,s.default)(a.default.mark((function e(n){var r,s,c,u,y,h,b,v,O,S;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.redirectUrl,t("name")!==d){e.next=24;break}if(e.prev=2,!(s=r.match(/#response=(.+)/))){e.next=18;break}return c=JSON.parse(window.atob(decodeURIComponent(s[1]))),u=c.client_secret,y=c.return_url,h=c.billing_details,b=c.confirmation_args,v=void 0===b?{}:b,(0,i.default)(c,p),e.next=8,g[f](u,m({payment_method:m({billing_details:h},E.current(P.current)),return_url:y},v));case 8:if(!(O=e.sent).error){e.next=11;break}throw new l.StripeError(O.error);case 11:if((S=new URL(decodeURI(y))).searchParams.append("payment_intent",O.paymentIntent.id),S.searchParams.append("payment_intent_client_secret",O.paymentIntent.client_secret),"requires_action"!==O.paymentIntent.status){e.next=17;break}if(!["stripe_wechat","stripe_swish"].includes(d)){e.next=17;break}return e.abrupt("return",(0,l.ensureErrorResponse)(o.responseTypes,t("i18n").payment_cancelled,{messageContext:o.noticeContexts.PAYMENTS}));case 17:window.location=decodeURI(S.toString());case 18:e.next=24;break;case 20:return e.prev=20,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",(0,l.ensureErrorResponse)(o.responseTypes,e.t0.error,{messageContext:o.noticeContexts.PAYMENTS}));case 24:case"end":return e.stop()}}),e,null,[[2,20]])})));return function(t){return e.apply(this,arguments)}}());return function(){return e()}}),[g,b,v,d])}},1900:(e,t,n)=>{var r=n(4994);Object.defineProperty(t,"__esModule",{value:!0}),t.useCreateSource=void 0;var a=r(n(9280)),o=r(n(9293)),i=r(n(3693)),s=r(n(5715)),c=n(6087),u=n(9954),l=n(2926);t.useCreateSource=function(e){var t=e.getData,n=e.billing,r=e.shippingAddress,p=e.onPaymentSetup,d=e.emitResponse,m=e.getSourceArgs,f=void 0!==m&&m,y=e.element,h=void 0!==y&&y,g=(0,c.useState)(!1),b=(0,s.default)(g,2),v=b[0],P=b[1],E=(0,c.useState)(!1),O=(0,s.default)(E,2),S=O[0],_=O[1],C=(0,c.useRef)({billing:n,shippingAddress:r}),M=(0,l.useStripe)(),w=(0,l.useElements)();(0,c.useEffect)((function(){C.current={billing:n,shippingAddress:r}}));var k=(0,c.useCallback)((function(){var e=C.current.billing,n=e.cartTotal,r=e.currency,a=e.billingAddress,o=(0,u.getDefaultSourceArgs)({type:t("paymentType"),amount:n.value,billingAddress:a,currency:r.code,returnUrl:t("returnUrl")});return f&&(o=f(o,{billingAddress:a})),o}),[]),j=(0,c.useCallback)((function(e){return{meta:{paymentMethodData:(0,i.default)({},"".concat(t("name"),"_token_key"),e)}}}),[]);return(0,c.useEffect)((function(){var e=p((0,o.default)(a.default.mark((function e(){var n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v){e.next=2;break}return e.abrupt("return",(0,u.ensureSuccessResponse)(d.responseTypes,j(v.id)));case 2:if(e.prev=2,!h){e.next=11;break}if(S){e.next=6;break}throw t("i18n").empty_data;case 6:return e.next=8,M.createSource(w.getElement(h),k());case 8:n=e.sent,e.next=14;break;case 11:return e.next=13,M.createSource(k());case 13:n=e.sent;case 14:if(!n.error){e.next=16;break}throw new u.StripeError(n.error);case 16:return P(n.source),e.abrupt("return",(0,u.ensureSuccessResponse)(d.responseTypes,j(n.source.id)));case 20:return e.prev=20,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",(0,u.ensureErrorResponse)(d.responseTypes,e.t0.error||e.t0,{messageContext:d.noticeContexts.PAYMENTS}));case 24:case"end":return e.stop()}}),e,null,[[2,20]])}))));return function(){return e()}}),[v,p,M,h,S,_]),{setIsValid:_}}},8403:(e,t,n)=>{var r=n(4994);Object.defineProperty(t,"__esModule",{value:!0}),t.useValidateCheckout=void 0;var a=r(n(3693)),o=r(n(5715)),i=n(6087),s=n(9954);t.useValidateCheckout=function(e){var t=e.subscriber,n=e.emitResponse,r=e.component,c=void 0===r?null:r,u=e.shouldSavePayment,l=void 0!==u&&u,p=e.paymentMethodName,d=void 0===p?"":p,m=e.msg,f=void 0===m?"":m,y=(0,i.useState)(!1),h=(0,o.default)(y,2),g=h[0],b=h[1],v=(0,i.useRef)({});return(0,i.useEffect)((function(){v.current={shouldSavePayment:l,paymentMethodName:d}}),[l,d]),(0,i.useEffect)((function(){var e=t((function(){var e=v.current,t=e.shouldSavePayment,r=e.paymentMethodName;return c&&!g?(0,s.ensureErrorResponse)(n.responseTypes,f,{messageContext:n.noticeContexts.PAYMENTS}):{type:n.responseTypes.SUCCESS,meta:{paymentMethodData:(0,a.default)({},"".concat(r,"_save_source_key"),t)}}}));return function(){return e()}}),[t,g,c]),{isValid:g,setIsValid:b}}},3034:(e,t,n)=>{var r=n(6087),a=n(4083),o=n(9954),i=n(3061),s=n(5076),c=(0,o.getSettings)("stripe_ideal_data");c()&&(0,a.registerPaymentMethod)({name:c("name"),label:r.createElement(s.PaymentMethodLabel,{title:c("title"),paymentMethod:c("name"),icons:c("icon")}),ariaLabel:"Ideal",placeOrderButtonLabel:c("placeOrderButtonLabel"),canMakePayment:(0,i.canMakePayment)(c),content:r.createElement(s.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:c}),edit:r.createElement(s.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:c}),supports:{showSavedCards:!1,showSaveOption:!1,features:c("features")}})},2583:(e,t,n)=>{n(4542),n(3034),n(1157),n(7496),n(9392),n(5265),n(4675),n(552),n(6640),n(3125),n(8113),n(88),n(3879),n(5529),n(5255),n(7110),n(8125),n(5932),n(170),n(9583),n(8141),n(339),n(7481),n(7514),n(5149),n(192),n(1424),n(4855),n(1739)},4542:(e,t,n)=>{var r=n(6087),a=n(4994),o=a(n(3693)),i=a(n(5715)),s=n(6087),c=n(4083),u=n(9954),l=n(3061),p=n(5076),d=n(2926),m=n(453);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var y=(0,u.getSettings)("stripe_klarna_data"),h=function(e){var t,n=e.title,a=e.paymentMethod,c=e.icons,l=e.components,h=l.PaymentMethodLabel,g=(0,s.useState)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({amount:null===(t=y("cartTotals"))||void 0===t?void 0:t.value,currency:y("currency"),paymentMethodTypes:["klarna"]},y("messageOptions"))),b=(0,i.default)(g,2),v=b[0],P=b[1];return(0,s.useEffect)((function(){var e=function(e){P(e.detail.options)};return document.addEventListener("stripeKlarnaChange",e),function(){return document.removeEventListener("stripeKlarnaChange",e)}}),[]),y("paymentSections").includes("checkout")?r.createElement("div",{className:"wc-stripe-label-container"},r.createElement(h,{text:n}),r.createElement("div",{className:"wc-stripe-klarna-message-container"},r.createElement(m.SilentErrorBoundary,null,r.createElement(d.Elements,{stripe:u.initStripe,options:{locale:y("elementOptions").locale}},r.createElement(d.PaymentMethodMessagingElement,{options:v}))))):r.createElement(p.PaymentMethodLabel,{paymentMethod:a,title:n,icons:c,components:l})};y()&&(0,c.registerPaymentMethod)({name:y("name"),label:r.createElement(h,{title:y("title"),paymentMethod:y("name"),icons:y("icon")}),ariaLabel:"Klarna",placeOrderButtonLabel:y("placeOrderButtonLabel"),canMakePayment:(0,l.canMakePayment)(y,(function(e){var t,n=e.settings,r=e.billingAddress,a=e.cartTotals,o=r.country,i=a.currency_code,s=n("requiredParams");return t={amount:parseInt(a.total_price),currency:a.currency_code,countryCode:o},document.dispatchEvent(new CustomEvent("stripeKlarnaChange",{detail:{options:t}})),(0,u.isKlarnaAvailable)({requiredParams:s,currency:i,country:o})})),content:r.createElement(p.PaymentMethod,{content:l.LocalPaymentIntentContent,getData:y}),edit:r.createElement(p.PaymentMethod,{content:l.LocalPaymentIntentContent,getData:y}),supports:{showSavedCards:!1,showSaveOption:!1,features:y("features")}})},9583:(e,t,n)=>{var r=n(6087),a=n(4083),o=n(9954),i=n(5076),s=n(3061),c=(0,o.getSettings)("stripe_konbini_data");c()&&(0,a.registerPaymentMethod)({name:c("name"),label:r.createElement(i.PaymentMethodLabel,{title:c("title"),paymentMethod:c("name"),icons:c("icon")}),ariaLabel:"Konbini",placeOrderButtonLabel:c("placeOrderButtonLabel"),canMakePayment:(0,s.canMakePayment)(c),content:r.createElement(i.PaymentMethod,{content:s.LocalPaymentIntentContent,getData:c}),edit:r.createElement(i.PaymentMethod,{content:s.LocalPaymentIntentContent,getData:c}),supports:{showSavedCards:!1,showSaveOption:!1,features:c("features")}})},3061:(e,t,n)=>{var r=n(6087),a=n(4994);Object.defineProperty(t,"__esModule",{value:!0}),t.canMakePayment=t.LocalPaymentIntentContent=void 0;var o=a(n(5715)),i=a(n(3693)),s=a(n(1847)),c=n(6087),u=n(2926),l=n(1e3),p=n(5703),d=n(9954),m=(n(2248),n(2871)),f=n(5076),y=["billingAddress","cartTotals"];function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.canMakePayment=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){var r=n.billingAddress,a=n.cartTotals,o=(0,s.default)(n,y),i=a.currency_code,c=r.country,u=e("countries"),l=e("allowedCountries"),p=e("features"),m=!1;if(e("isAdmin"))m=!0;else{if((0,d.cartContainsSubscription)()&&!p.includes("subscriptions"))return!1;if((0,d.cartContainsPreOrder)()&&!p.includes("pre-orders"))return!1;e("currencies").includes(i)&&(m="all_except"===l?!e("exceptCountries").includes(c):"specific"===l?e("specificCountries").includes(c):!(u.length>0)||u.includes(c)),t&&m&&(m=t(g({settings:e,billingAddress:r,cartTotals:a},o)))}return m}},t.LocalPaymentIntentContent=function(e){var t,n=e.getData,a=e.billing,o=e.cartData,i=e.mandate,s=void 0!==i&&i,c=e.mandateText,l=void 0===c?"":c,p=n("name"),m=o.extensions,y=a.cartTotal,h=a.currency,v=g({mode:"payment",currency:null==h||null===(t=h.code)||void 0===t?void 0:t.toLowerCase()},m[p].elementOptions);return y.value<=0&&(v.mode="setup"),["payment","subscription"].includes(v.mode)&&(v.amount=y.value),r.createElement(u.Elements,{stripe:d.initStripe,options:v},r.createElement(b,e),s&&r.createElement(f.MandateText,{text:l}))};var b=function(e){var t=e.getData,n=e.billing,a=e.emitResponse,i=e.shouldSavePayment,s=e.eventRegistration,d=e.activePaymentMethod,f=e.shouldCreatePaymentMethod,y=void 0===f||f,h=t("name"),b=n.billingAddress,v=s.onCheckoutSuccess,P=s.onCheckoutFail,E=(0,c.useState)(!1),O=(0,o.default)(E,2),S=O[0],_=O[1],C=g({defaultValues:{billingDetails:{phone:b.phone,email:b.email,name:"".concat(b.first_name," ").concat(b.last_name),address:{country:b.country,state:b.state}}},fields:{billingDetails:{address:"never",name:"never",email:"never"}},wallets:{applePay:"never",googlePay:"never"}},t("paymentElementOptions"));if((0,m.useProcessCheckoutError)({emitResponse:a,subscriber:P,messageContext:a.noticeContexts.PAYMENTS}),(0,m.useCreatePaymentMethod)({name:h,emitResponse:a,billingAddress:b,shouldSavePayment:i,eventRegistration:s,shouldCreatePaymentMethod:y}),(0,m.useProcessCheckoutSuccess)({name:h,emitResponse:a,billingAddress:b,onCheckoutSuccess:v,activePaymentMethod:d}),S){var M=(0,p.getSetting)("stripeErrorMessages").payment_unavailable;return r.createElement(l.StoreNotice,{status:"warning",isDismissible:!1},M.replace("%s",S.message))}return r.createElement(u.PaymentElement,{options:C,onChange:function(e){},onLoadError:function(e){var t=e.error;_(t)}})}},4855:(e,t,n)=>{var r=n(6087),a=n(4083),o=n(9954),i=n(3061),s=n(5076),c=(0,o.getSettings)("stripe_mobilepay_data");c()&&(0,a.registerPaymentMethod)({name:c("name"),label:r.createElement(s.PaymentMethodLabel,{title:c("title"),paymentMethod:c("name"),icons:c("icon")}),ariaLabel:"Ideal",placeOrderButtonLabel:c("placeOrderButtonLabel"),canMakePayment:(0,i.canMakePayment)(c),content:r.createElement(s.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:c}),edit:r.createElement(s.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:c}),supports:{showSavedCards:!1,showSaveOption:!1,features:c("features")}})},4675:(e,t,n)=>{var r=n(6087),a=n(4083),o=n(9954),i=n(3061),s=n(5076),c=(0,o.getSettings)("stripe_multibanco_data");c()&&(0,a.registerPaymentMethod)({name:c("name"),label:r.createElement(s.PaymentMethodLabel,{title:c("title"),paymentMethod:c("name"),icons:c("icon")}),ariaLabel:"MultiBanco",placeOrderButtonLabel:c("placeOrderButtonLabel"),canMakePayment:(0,i.canMakePayment)(c),content:r.createElement(s.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:c}),edit:r.createElement(s.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:c}),supports:{showSavedCards:!1,showSaveOption:!1,features:c("features")}})},8125:(e,t,n)=>{var r=n(6087),a=n(4083),o=n(9954),i=n(3061),s=n(5076),c=(0,o.getSettings)("stripe_oxxo_data");c()&&(0,a.registerPaymentMethod)({name:c("name"),label:r.createElement(s.PaymentMethodLabel,{title:c("title"),paymentMethod:c("name"),icons:c("icon")}),ariaLabel:"OXXO",placeOrderButtonLabel:c("placeOrderButtonLabel"),canMakePayment:(0,i.canMakePayment)(c),content:r.createElement(s.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:c,confirmationMethod:"confirmOxxoPayment"}),edit:r.createElement(s.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:c}),supports:{showSavedCards:!1,showSaveOption:!1,features:c("features")}})},1157:(e,t,n)=>{var r=n(6087),a=n(4083),o=n(9954),i=n(3061),s=n(5076),c=(0,o.getSettings)("stripe_p24_data");c()&&(0,a.registerPaymentMethod)({name:c("name"),label:r.createElement(s.PaymentMethodLabel,{title:c("title"),paymentMethod:c("name"),icons:c("icon")}),ariaLabel:"P24",placeOrderButtonLabel:c("placeOrderButtonLabel"),canMakePayment:(0,i.canMakePayment)(c),content:r.createElement(s.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:c}),edit:r.createElement(s.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:c}),supports:{showSavedCards:!1,showSaveOption:!1,features:c("features")}})},8141:(e,t,n)=>{var r=n(6087),a=n(4083),o=n(5076),i=n(3061),s=(0,n(9954).getSettings)("stripe_paynow_data");s()&&(0,a.registerPaymentMethod)({name:s("name"),label:r.createElement(o.PaymentMethodLabel,{title:s("title"),paymentMethod:s("name"),icons:s("icon")}),ariaLabel:"PayNow",placeOrderButtonLabel:s("placeOrderButtonLabel"),canMakePayment:(0,i.canMakePayment)(s),content:r.createElement(o.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:s}),edit:r.createElement(o.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:s}),supports:{showSavedCards:!1,showSaveOption:!1,features:s("features")}})},339:(e,t,n)=>{var r=n(6087),a=n(4083),o=n(5076),i=n(3061),s=(0,n(9954).getSettings)("stripe_promptpay_data");s()&&(0,a.registerPaymentMethod)({name:s("name"),label:r.createElement(o.PaymentMethodLabel,{title:s("title"),paymentMethod:s("name"),icons:s("icon")}),ariaLabel:"PromptPay",placeOrderButtonLabel:s("placeOrderButtonLabel"),canMakePayment:(0,i.canMakePayment)(s),content:r.createElement(o.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:s}),edit:r.createElement(o.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:s}),supports:{showSavedCards:!1,showSaveOption:!1,features:s("features")}})},192:(e,t,n)=>{var r=n(6087),a=n(4083),o=n(9954),i=n(3061),s=n(5076),c=(0,o.getSettings)("stripe_revolut_data");c()&&(0,a.registerPaymentMethod)({name:c("name"),label:r.createElement(s.PaymentMethodLabel,{title:c("title"),paymentMethod:c("name"),icons:c("icon")}),ariaLabel:"Ideal",placeOrderButtonLabel:c("placeOrderButtonLabel"),canMakePayment:(0,i.canMakePayment)(c),content:r.createElement(s.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:c}),edit:r.createElement(s.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:c}),supports:{showSavedCards:!1,showSaveOption:!1,features:c("features")}})},552:(e,t,n)=>{var r=n(6087),a=n(4083),o=n(9954),i=n(5076),s=n(3061),c=(0,o.getSettings)("stripe_sepa_data");c()&&(0,a.registerPaymentMethod)({name:c("name"),label:r.createElement(i.PaymentMethodLabel,{title:c("title"),paymentMethod:c("name"),icons:c("icon")}),ariaLabel:"SEPA",placeOrderButtonLabel:c("placeOrderButtonLabel"),canMakePayment:(0,s.canMakePayment)(c),content:r.createElement(i.PaymentMethod,{content:s.LocalPaymentIntentContent,getData:c,mandate:!c("mandate"),mandateText:c("mandateText")}),edit:r.createElement(i.PaymentMethod,{content:s.LocalPaymentIntentContent,getData:c,mandate:!c("mandate"),mandateText:c("mandateText")}),supports:{showSavedCards:!0,showSaveOption:!0,features:c("features")}})},6640:(e,t,n)=>{var r=n(6087),a=n(4083),o=n(9954),i=n(3061),s=n(5076),c=(0,o.getSettings)("stripe_sofort_data");c()&&(0,a.registerPaymentMethod)({name:c("name"),label:r.createElement(s.PaymentMethodLabel,{title:c("title"),paymentMethod:c("name"),icons:c("icon")}),ariaLabel:"Sofort",placeOrderButtonLabel:c("placeOrderButtonLabel"),canMakePayment:(0,i.canMakePayment)(c),content:r.createElement(s.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:c}),edit:r.createElement(s.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:c}),supports:{showSavedCards:!1,showSaveOption:!1,features:c("features")}})},7481:(e,t,n)=>{var r=n(6087),a=n(4083),o=n(9954),i=n(3061),s=n(5076),c=(0,o.getSettings)("stripe_swish_data");c()&&(0,a.registerPaymentMethod)({name:c("name"),label:r.createElement(s.PaymentMethodLabel,{title:c("title"),paymentMethod:c("name"),icons:c("icon")}),ariaLabel:"Swish",placeOrderButtonLabel:c("placeOrderButtonLabel"),canMakePayment:(0,i.canMakePayment)(c),content:r.createElement(s.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:c,confirmationMethod:"confirmSwishPayment"}),edit:r.createElement(s.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:c}),supports:{showSavedCards:!1,showSaveOption:!1,features:c("features")}})},3125:(e,t,n)=>{var r=n(6087),a=n(4083),o=n(9954),i=n(5076),s=n(3061),c=(0,o.getSettings)("stripe_wechat_data");c()&&(0,a.registerPaymentMethod)({name:c("name"),label:r.createElement(i.PaymentMethodLabel,{title:c("title"),paymentMethod:c("name"),icons:c("icon")}),ariaLabel:"WeChat",canMakePayment:(0,s.canMakePayment)(c),content:r.createElement(i.PaymentMethod,{content:s.LocalPaymentIntentContent,getData:c}),edit:r.createElement(i.PaymentMethod,{content:s.LocalPaymentIntentContent,getData:c}),placeOrderButtonLabel:c("placeOrderButtonLabel"),supports:{showSavedCards:!1,showSaveOption:!1,features:c("features")}})},1424:(e,t,n)=>{var r=n(6087),a=n(4083),o=n(9954),i=n(3061),s=n(5076),c=(0,o.getSettings)("stripe_zip_data");c()&&(0,a.registerPaymentMethod)({name:c("name"),label:r.createElement(s.PaymentMethodLabel,{title:c("title"),paymentMethod:c("name"),icons:c("icon")}),ariaLabel:"Ideal",placeOrderButtonLabel:c("placeOrderButtonLabel"),canMakePayment:(0,i.canMakePayment)(c),content:r.createElement(s.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:c}),edit:r.createElement(s.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:c}),supports:{showSavedCards:!1,showSaveOption:!1,features:c("features")}})},9621:(e,t,n)=>{n(1934),n(6421)},6421:(e,t,n)=>{var r=n(6087),a=n(4994),o=a(n(5715)),i=a(n(1847)),s=n(6087),c=n(4083),u=n(9954),l=n(2871),p=n(2926),d=["getData","onClick","onClose","billing","shippingData","eventRegistration","emitResponse","onSubmit","activePaymentMethod"],m=["getData"],f=(0,u.getSettings)("stripe_payment_request_data"),y=function(e){return r.createElement("div",{className:"wc-stripe-payment-request-container"},r.createElement(p.Elements,{stripe:u.initStripe},r.createElement(h,e)))},h=function(e){var t=e.getData,n=e.onClick,a=e.onClose,c=e.billing,u=e.shippingData,m=e.eventRegistration,f=e.emitResponse,y=e.onSubmit,h=e.activePaymentMethod,g=((0,i.default)(e,d),m.onPaymentSetup),b=f.noticeContexts,v=(0,p.useStripe)(),P=(0,l.useStripeError)(),E=(0,o.default)(P,1)[0],O=(0,l.useExportedValues)();(0,l.useExpressBreakpointWidth)({payment_method:t("name"),width:375});var S=(0,l.useProcessPaymentIntent)({getData:t,billing:c,shippingData:u,onPaymentSetup:g,emitResponse:f,error:E,onSubmit:y,activePaymentMethod:h,exportedValues:O}).setPaymentMethod;(0,l.useAfterProcessingPayment)({getData:t,eventRegistration:m,emitResponse:f,activePaymentMethod:h,messageContext:b.EXPRESS_PAYMENTS});var _=(0,l.usePaymentRequest)({getData:t,onClose:a,stripe:v,billing:c,shippingData:u,eventRegistration:m,setPaymentMethod:S,exportedValues:O,canPay:function(e){return null!=e&&!e.applePay&&e.googlePay}}).paymentRequest,C=(0,s.useMemo)((function(){return{paymentRequest:_,style:{paymentRequestButton:t("paymentRequestButton")}}}),[_]);return _?r.createElement(p.PaymentRequestButtonElement,{options:C,onClick:n}):null},g=function(e){e.getData,(0,i.default)(e,m);var t=(0,s.useRef)();return(0,s.useEffect)((function(){var e=window.devicePixelRatio;t.current.width=20*e,t.current.height=20*e;var n=t.current.getContext("2d");n.scale(e,e),n.beginPath(),n.arc(10,10,10,0,2*Math.PI),n.fillStyle="#986fff",n.fill()})),r.createElement("div",{className:"payment-request-block-editor"},r.createElement("div",{className:"icon-container"},r.createElement("span",null,"Buy now"),r.createElement("canvas",{className:"PaymentRequestButton-icon",ref:t}),r.createElement("i",{className:"payment-request-arrow"})))};((0,u.isCartPage)()&&f("cartCheckoutEnabled")||(0,u.isCheckoutPage)()&&f("expressCheckoutEnabled"))&&(0,c.registerExpressPaymentMethod)({name:f("name"),canMakePayment:function(e){var t=e.cartTotals,n=t.currency_code,r=t.total_price;return(0,u.canMakePayment)({country:f("countryCode"),currency:n.toLowerCase(),total:{label:f("totalLabel"),amount:parseInt(r)}},(function(e){return null!=e&&!e.applePay&&e.googlePay}))},content:r.createElement(y,{getData:f}),edit:r.createElement(g,{getData:f}),supports:{showSavedCards:f("showSavedCards"),showSaveOption:f("showSaveOption"),features:f("features")}})},1756:(e,t,n)=>{var r=n(4994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(9280)),o=r(n(9293)),i=r(n(3693)),s=n(6087),c=n(2871),u=n(9954);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=function(e){var t=e.eventRegistration,n=e.emitResponse,r=e.billing,i=e.getData,l=e.confirmation_method,d=void 0===l?"automatic":l,m=t.onCheckoutSuccess,f=t.onCheckoutFail,y=r.billingAddress,h=(0,s.useRef)({emitResponse:n,billingAddress:y});(0,s.useEffect)((function(){h.current=p(p({},h.current),{},{emitResponse:n,billingAddress:y})}),[n,y]),(0,c.useProcessCheckoutError)({emitResponse:n,subscriber:f,messageContext:n.noticeContexts.PAYMENTS});var g=(0,s.useCallback)(function(){var e=(0,o.default)(a.default.mark((function e(t){var n,r,o,s,c,l;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.redirectUrl,r=h.current,o=r.emitResponse,s=r.billingAddress,"automatic"!==d){e.next=12;break}if(!(c=(0,u.isNextActionRequired)(n))){e.next=10;break}return e.next=6,u.initStripe;case 6:return l=e.sent,e.next=9,(0,u.handleNextAction)({args:c,stripe:l,emitResponse:o,billingAddress:s});case 9:case 14:return e.abrupt("return",e.sent);case 10:e.next=15;break;case 12:return e.next=14,(0,u.handleCardAction)({redirectUrl:n,getData:i,emitResponse:o});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[d]);return(0,s.useEffect)((function(){var e=m(g);return function(){return e()}}),[m,g]),null}},5531:(e,t,n)=>{var r=n(6087),a=n(4994),o=a(n(1847)),i=a(n(3693)),s=a(n(5715)),c=n(6087),u=n(4083),l=n(2926),p=n(5076),d=n(9954),m=a(n(1756)),f=n(2871),y=["getData"];function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=(0,d.getSettings)("stripe_upm_data"),v=b("i18n"),P=function(e){var t=e.billing,n=e.emitResponse,a=e.shouldSavePayment,o=e.eventRegistration,i=e.activePaymentMethod,u=b("name"),d=b("installmentsActive"),m=(0,l.useStripe)(),y=(0,c.useState)({complete:!1,paymentMethodType:""}),h=(0,s.default)(y,2),P=h[0],E=h[1],O=(0,c.useState)(!0),S=(0,s.default)(O,2),_=S[0],C=S[1],M=t.billingAddress,w=o.onCheckoutSuccess,k=o.onCheckoutFail,j=n.noticeContexts;(0,f.useProcessCheckoutError)({emitResponse:n,subscriber:k,messageContext:j.PAYMENTS});var x=(0,f.useCreatePaymentMethod)({name:u,emitResponse:n,billingAddress:M,shouldSavePayment:a,eventRegistration:o,shouldCreatePaymentMethod:_}),D=(x.paymentMethodType,x.createPaymentMethod),A=x.setPaymentMethodType,L=x.addPaymentMethodData;(0,f.useProcessCheckoutSuccess)({name:u,emitResponse:n,billingAddress:M,onCheckoutSuccess:w,activePaymentMethod:i});var R=(0,c.useCallback)((function(e){var t=e.value,n=void 0===t?null:t,r=e.complete,a=void 0!==r&&r;null!=n&&n.type&&(A(n.type),C(!["blik","boleto"].includes(n.type))),E({complete:a,paymentMethodType:n.type})}),[]),I=g({defaultValues:{billingDetails:{phone:M.phone,email:M.email,name:"".concat(M.first_name," ").concat(M.last_name)}},fields:{billingDetails:{address:"never",name:"never",email:"never"}},wallets:{applePay:"never",googlePay:"never"}},b("paymentElementOptions"));return r.createElement(r.Fragment,null,r.createElement(l.PaymentElement,{options:I,onChange:R}),r.createElement(p.Installments,{active:d,i18n:v,paymentMethodType:P.paymentMethodType,stripe:m,cardFormComplete:P.complete,createPaymentMethod:D,onChange:function(e){return L("_stripe_installment_plan",e)}}))},E=function(e){e.getData;var t,n=(0,o.default)(e,y),a=n.billing,i=n.cartData,s=n.shouldSavePayment,c=i.extensions,u=a.cartTotal,p=a.currency,m=g({mode:"payment",currency:null==p||null===(t=p.code)||void 0===t?void 0:t.toLowerCase()},c.stripe_upm.elementOptions);return s&&(m.mode="subscription"),u.value<=0&&(m=g(g({},m),{},{mode:"setup"})),["payment","subscription"].includes(m.mode)&&(m.amount=u.value),r.createElement(l.Elements,{stripe:d.initStripe,options:m},r.createElement(P,n))};(0,u.registerPaymentMethod)({name:b("name"),label:r.createElement(p.PaymentMethodLabel,{title:b("title"),paymentMethod:b("name"),icons:b("icons")}),ariaLabel:"Credit Cards",canMakePayment:function(){return d.initStripe},content:r.createElement(p.PaymentMethod,{content:E,getData:b}),savedTokenComponent:r.createElement(m.default,{getData:b,confirmation_method:"automatic"}),edit:r.createElement(p.PaymentMethod,{content:E,getData:b}),supports:{showSavedCards:b("showSavedCards"),showSaveOption:b("showSaveOption"),features:b("features")}})},9954:(e,t,n)=>{var r=n(4994);Object.defineProperty(t,"__esModule",{value:!0}),t.toCartAddress=t.storeInCache=t.removeNumberPrecision=t.registerLocalPaymentMethod=t.registerCreditCardForm=t.isUserLoggedIn=t.isTestMode=t.isNextActionRequired=t.isKlarnaAvailable=t.isFieldRequired=t.isEmpty=t.isCheckoutPage=t.isCartPage=t.isAddressValid=t.initStripe=t.hasShippingRates=t.handleNextAction=t.handleCardAction=t.getShippingOptions=t.getShippingOptionId=t.getSettings=t.getSelectedShippingOption=t.getRoute=t.getLocaleFields=t.getLocalPaymentMethods=t.getIntermediateAddress=t.getFromCache=t.getErrorMessage=t.getDisplayItems=t.getDefaultSourceArgs=t.getCreditCardForm=t.getBillingDetailsFromAddress=t.formatPrice=t.filterEmptyValues=t.ensureSuccessResponse=t.ensureErrorResponse=t.deleteFromCache=t.cartContainsSubscription=t.cartContainsPreOrder=t.canMakePayment=t.StripeError=t.DEFAULT_SHIPPING_ADDRESS=t.DEFAULT_BILLING_ADDRESS=void 0;var a=r(n(9280)),o=r(n(1132)),i=r(n(9293)),s=r(n(5715)),c=r(n(3738)),u=r(n(4579)),l=r(n(7383)),p=r(n(8452)),d=r(n(3072)),m=r(n(9511)),f=r(n(1837)),y=r(n(3693)),h=r(n(1847)),g=n(7427),b=n(5703),v=r(n(1455)),P=n(910),E=["id"];function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t,n){return t=(0,d.default)(t),(0,p.default)(e,_()?Reflect.construct(t,n||[],(0,d.default)(e).constructor):t.apply(e,n))}function _(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_=function(){return!!e})()}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,y.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=(0,b.getSetting)("stripeGeneralData"),k=w.publishableKey,j=w.stripeParams,x=(0,b.getSetting)("stripeErrorMessages"),D=(0,b.getSetting)("countryLocale",{}),A=/^([\w]+)\:(.+)$/,L=(0,b.getSetting)("stripeGeneralData").routes,R={},I=[],T={recipient:function(e,t){return e.first_name=t.split(" ").slice(0,-1).join(" "),e.last_name=t.split(" ").pop(),e},payerName:function(e,t){return e.first_name=t.split(" ").slice(0,-1).join(" "),e.last_name=t.split(" ").pop(),e},country:"country",addressLine:function(e,t){return t[0]&&(e.address_1=t[0]),t[1]&&(e.address_2=t[1]),e},line1:"address_1",line2:"address_2",city:"city",region:"state",state:"state",postalCode:"postcode",postal_code:"postcode",payerEmail:"email",payerPhone:"phone"},N=t.initStripe=new Promise((function(e,t){(0,g.loadStripe)(k,j).then((function(t){e(t)})).catch((function(t){e({error:t})}))})),B=(t.registerCreditCardForm=function(e){var t=e.id,n=(0,h.default)(e,E);R[t]=n},t.getCreditCardForm=function(e){return R.hasOwnProperty(e)?R[e]:{}},t.getRoute=function(e){return null!=L&&L[e]?L[e]:console.log("".concat(e," is not a valid route"))}),q=t.ensureSuccessResponse=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return M({type:e.SUCCESS},t)},F=t.ensureErrorResponse=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return M({type:e.ERROR,message:U(t)},n)},U=t.getErrorMessage=function(e){return"string"==typeof e?e:null!=e&&e.code&&null!=x&&x[e.code]?x[e.code]:null!=e&&e.statusCode?null!=x&&x[e.statusCode]?x[e.statusCode]:e.statusMessage:e.message},Y=t.getBillingDetailsFromAddress=function(e){var t={name:"".concat(e.first_name," ").concat(e.last_name),address:{city:e.city||null,country:e.country||null,line1:e.address_1||null,line2:e.address_2||null,postal_code:e.postcode||null,state:e.state||null}};return null!=e&&e.phone&&(t.phone=e.phone),null!=e&&e.email&&(t.email=e.email),t},V=(t.getSettings=function(e){return function(t){return t?(0,b.getSetting)(e)[t]:(0,b.getSetting)(e)}},t.StripeError=function(e){function t(e){var n;return(0,l.default)(this,t),(n=S(this,t,[e.message])).error=e,n}return(0,m.default)(t,e),(0,u.default)(t)}((0,f.default)(Error)),t.isEmpty=function(e){return"string"==typeof e?0==e.length||""==e:Array.isArray(e)?0==array.length:"object"!==(0,c.default)(e)||0==Object.keys(e).length}),W=(t.removeNumberPrecision=function(e,t){return e/Math.pow(10,t)},t.isAddressValid=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=W(e.country),r=0,a=Object.entries(e);r<a.length;r++){var o=(0,s.default)(a[r],2),i=o[0],c=o[1];if(!t.includes(i)&&null!=n&&n[i]&&n[i].required&&V(c))return!1}return!0},t.getLocaleFields=function(e){var t=M({},D.default);return e&&null!=D&&D[e]&&(t=Object.entries(D[e]).reduce((function(e,t){var n=(0,s.default)(t,2),r=n[0],a=n[1];return e[r]=M(M({},e[r]),a),e}),t),["phone","shipping-phone","email"].forEach((function(e){var n=document.getElementById(e);n&&(t[e]={required:n.required})}))),t}),G=(t.isFieldRequired=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(["phone","shipping-phone","email"].indexOf(e)>-1){var n=document.getElementById(e);return!!n&&n.required}var r=W(t);return[e]in r&&r[e].required},t.getSelectedShippingOption=function(e){var t=e.match(A);if(t){var n=t[1];return[t[2],n]}return[]},t.hasShippingRates=function(e){return e.map((function(e){return e.shipping_rates.length>0})).filter(Boolean).length>0},t.isUserLoggedIn=function(e){return e>0},t.handleCardAction=function(){var e=(0,i.default)(a.default.mark((function e(t){var n,r,o,i,s,c,u,l,p,d,m,f,h,g,b,P,E,O;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.redirectUrl,r=t.emitResponse,o=t.name,i=t.method,s=void 0===i?"confirmCardPayment":i,c=t.savePaymentMethod,u=void 0!==c&&c,l=t.data,p=void 0===l?{}:l,e.prev=1,!(d=n.match(/#response=(.+)/))){e.next=28;break}return m=JSON.parse(window.atob(decodeURIComponent(d[1]))),f=m.type,h=m.client_secret,g=m.order_id,b=m.order_key,e.next=7,N;case 7:if(P=e.sent,"payment_intent"!==f){e.next=14;break}return e.next=11,P[s](h);case 11:E=e.sent,e.next=17;break;case 14:return e.next=16,P.confirmCardSetup(h);case 16:E=e.sent;case 17:if(!E.error){e.next=19;break}return e.abrupt("return",F(r.responseTypes,E.error,{messageContext:r.noticeContexts.PAYMENTS}));case 19:return p=M(M({},p),{},(0,y.default)({order_id:g,order_key:b},"".concat(o,"_save_source_key"),u)),e.next=22,(0,v.default)({url:B("process/payment"),method:"POST",data:p});case 22:if(!(O=e.sent).messages){e.next=25;break}return e.abrupt("return",F(r.responseTypes,O.messages,{messageContext:r.noticeContexts.PAYMENTS}));case 25:return e.abrupt("return",q(r.responseTypes,{redirectUrl:O.redirect}));case 28:return e.abrupt("return",q(r.responseTypes));case 29:e.next=35;break;case 31:return e.prev=31,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",F(r.responseTypes,e.t0,{messageContext:r.noticeContexts.PAYMENTS}));case 35:case"end":return e.stop()}}),e,null,[[1,31]])})));return function(t){return e.apply(this,arguments)}}(),t.handleNextAction=function(){var e=(0,i.default)(a.default.mark((function e(t){var n,r,o,i,s,c,u,l,p,d,m,f,y,h,g,b;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.args,r=t.stripe,o=t.elements,i=void 0===o?null:o,s=t.emitResponse,c=t.billingAddress,u=n.type,l=n.client_secret,p=n.status,d=n.return_url,m=void 0===d?null:d,f=n.confirmation_args,y=void 0===f?null:f,!["requires_action","requires_payment_method","requires_confirmation"].includes(p)){e.next=32;break}if(e.prev=3,"payment_intent"!==u){e.next=10;break}return e.next=7,r.confirmPayment(M(M({},i&&{elements:i}),{},{clientSecret:l,redirect:"if_required",confirmParams:M({return_url:m,payment_method_data:{billing_details:Y(c)},expand:["payment_method"]},y&&y)}));case 7:h=e.sent,e.next=13;break;case 10:return e.next=12,r.confirmSetup({clientSecret:l,redirect:"always",confirmParams:{return_url:m,payment_method_data:{billing_details:Y(c)},expand:["payment_method"]}});case 12:h=e.sent;case 13:if(!h.error){e.next=15;break}throw h.error;case 15:if(g=h.paymentIntent.payment_method,!["promptpay","swish","paynow","cashapp"].includes(g.type)){e.next=21;break}if("requires_action"!==h.paymentIntent.status){e.next=19;break}throw{code:"payment_cancelled"};case 19:if("requires_payment_method"!==h.paymentIntent.status){e.next=21;break}throw{code:h.paymentIntent.last_payment_error.code};case 21:return(b=new URL(m)).searchParams.append("payment_intent",h.paymentIntent.id),b.searchParams.append("payment_intent_client_secret",h.paymentIntent.client_secret),e.abrupt("return",q(s.responseTypes,{redirectUrl:b.toString()}));case 27:return e.prev=27,e.t0=e.catch(3),e.abrupt("return",F(s.responseTypes,e.t0,{messageContext:s.noticeContexts.PAYMENTS}));case 30:e.next=33;break;case 32:return e.abrupt("return",q(s.responseTypes));case 33:case"end":return e.stop()}}),e,null,[[3,27]])})));return function(t){return e.apply(this,arguments)}}(),t.toCartAddress=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T;return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={};t=M(M({},t),G(n));for(var a=0,o=Object.entries(e);a<o.length;a++){var i,c=(0,s.default)(o[a],2),u=c[0],l=c[1];null!==(i=t)&&void 0!==i&&i[u]&&("function"==typeof l?l(r,t[u]):r[l]=t[u])}return r}},t.getIntermediateAddress=function(e){var t,n={},r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:["city","postcode","state","country"]);try{for(r.s();!(t=r.n()).done;){var a=t.value;n[a]=e[a]}}catch(e){r.e(e)}finally{r.f()}return n},t.filterEmptyValues=function(e){return Object.keys(e).filter((function(t){return Boolean(e[t])})).reduce((function(t,n){return M(M({},t),{},(0,y.default)({},n,e[n]))}),{})}),K=t.formatPrice=function(e,t){var n,r=(0,P.getCurrency)(t),a=r.prefix,o=r.suffix,i=r.decimalSeparator,s=r.minorUnit,c=r.thousandSeparator;if(""==e||void 0===e)return e;e="string"==typeof e?parseInt(e,10):e;var u="",l=(e=(e/=Math.pow(10,s)).toString().replace(".",i)).indexOf(i);l<0?s>0&&(e+="".concat(i).concat(new Array(s+1).join("0"))):(u=e.substr(l+1)).length<s&&(e+=new Array(s-u.length+1).join("0"));var p=e.match(new RegExp("(\\d+)\\".concat(i,"(\\d+)")));return p&&(e=p[1],u=p[2]),e=e.replace(new RegExp("\\B(?=(\\d{3})+(?!\\d))","g"),"".concat(c)),a+(e=(null===(n=u)||void 0===n?void 0:n.length)>0?e+i+u:e)+o},H=(t.getShippingOptions=function(e){var t=[];return e.forEach((function(e,n){e.shipping_rates.sort((function(e){return e.selected?-1:1}));var r=e.shipping_rates.map((function(e){var t=document.createElement("textarea");return t.innerHTML=e.name,K(e.price,e.currency_code),{id:H(n,e.rate_id),label:t.value,amount:parseInt(e.price,10)}}));t=[].concat((0,o.default)(t),(0,o.default)(r))})),t},t.getShippingOptionId=function(e,t){return"".concat(e,":").concat(t)}),J=(t.getDisplayItems=function(e,t){t.minorUnit;var n=[],r=["total_tax","total_shipping"];return e.forEach((function(e){(0<e.value||e.key&&r.includes(e.key))&&n.push({label:e.label,pending:!1,amount:e.value})})),n},{}),z=(t.canMakePayment=function(e,t){var n=e.country,r=e.currency,a=e.total;return new Promise((function(e,o){var i=[n,r,a.amount].reduce((function(e,t){return"".concat(e,"-").concat(t)}));return r?i in J?e(J[i]):N.then((function(s){if(s.error)return o(s.error);s.paymentRequest({country:n,currency:r,total:a}).canMakePayment().then((function(n){return J[i]=t(n),e(J[i])}))})).catch(o):e(!1)}))},t.registerLocalPaymentMethod=function(e){I.push(e)},t.getLocalPaymentMethods=function(){return I},t.cartContainsPreOrder=function(){var e=(0,b.getSetting)("stripePaymentData");return e&&e.pre_order},t.cartContainsSubscription=function(){var e=(0,b.getSetting)("stripePaymentData");return e&&e.subscription},t.getDefaultSourceArgs=function(e){var t=e.type,n=e.amount,r=e.billingAddress,a=e.currency,o=e.returnUrl;return{type:t,amount:n,currency:a,owner:Y(r),redirect:{return_url:o}}},t.isTestMode=function(){return"test"===(0,b.getSetting)("stripeGeneralData").mode},function(e){return"".concat("stripe:").concat(e)}),X=(t.storeInCache=function(e,t){var n=Math.floor((new Date).getTime()/1e3)+900;"sessionStorage"in window&&sessionStorage.setItem(z(e),JSON.stringify({value:t,exp:n}))},t.getFromCache=function(e){if("sessionStorage"in window)try{var t=JSON.parse(sessionStorage.getItem(z(e)));if(t){var n=t.value,r=t.exp;if(!(Math.floor((new Date).getTime()/1e3)>r))return n;X(z(e))}}catch(e){}return null},t.deleteFromCache=function(e){"sessionStorage"in window&&sessionStorage.removeItem(z(e))}),$=(t.isCartPage=function(){return"cart"===(0,b.getSetting)("stripeGeneralData").page},t.isCheckoutPage=function(){return"checkout"===(0,b.getSetting)("stripeGeneralData").page},t.isNextActionRequired=function(e){var t=e.match(/#response=(.+)/),n=null;return t&&(n=JSON.parse(window.atob(decodeURIComponent(t[1])))),n},t.isKlarnaAvailable=function(e){var t=e.requiredParams,n=e.currency,r=e.country,a=void 0===r?null:r;return a?n in t&&t[n].includes(a):n in t},t.DEFAULT_SHIPPING_ADDRESS={first_name:"",last_name:"",company:"",address_1:"",address_2:"",city:"",state:"",postcode:"",country:"",phone:""});t.DEFAULT_BILLING_ADDRESS=M(M({},$),{},{email:""})},1360:()=>{},43:()=>{},6846:()=>{},5366:()=>{},8162:()=>{},9350:()=>{},3303:()=>{},1934:()=>{},79:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},2987:e=>{e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},5901:(e,t,n)=>{var r=n(79);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},2475:e=>{e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},9293:e=>{function t(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(a,o){var i=e.apply(n,r);function s(e){t(i,a,o,s,c,"next",e)}function c(e){t(i,a,o,s,c,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},7383:e=>{e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},9646:(e,t,n)=>{var r=n(5636),a=n(7550);e.exports=function(e,t,n){if(a())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,t);var i=new(e.bind.apply(e,o));return n&&r(i,n.prototype),i},e.exports.__esModule=!0,e.exports.default=e.exports},4579:(e,t,n)=>{var r=n(7736);function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,r(a.key),a)}}e.exports=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},3693:(e,t,n)=>{var r=n(7736);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},4634:e=>{function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3072:e=>{function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},9511:(e,t,n)=>{var r=n(5636);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},4994:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},691:e=>{e.exports=function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}},e.exports.__esModule=!0,e.exports.default=e.exports},7550:e=>{function t(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(n){}return(e.exports=t=function(){return!!n},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},9291:e=>{e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},1156:e=>{e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},7752:e=>{e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},1869:e=>{e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},1847:(e,t,n)=>{var r=n(4893);e.exports=function(e,t){if(null==e)return{};var n,a,o=r(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o},e.exports.__esModule=!0,e.exports.default=e.exports},4893:e=>{e.exports=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n},e.exports.__esModule=!0,e.exports.default=e.exports},8452:(e,t,n)=>{var r=n(3738).default,a=n(2475);e.exports=function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return a(e)},e.exports.__esModule=!0,e.exports.default=e.exports},5636:e=>{function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},5715:(e,t,n)=>{var r=n(2987),a=n(1156),o=n(7122),i=n(7752);e.exports=function(e,t){return r(e)||a(e,t)||o(e,t)||i()},e.exports.__esModule=!0,e.exports.default=e.exports},1132:(e,t,n)=>{var r=n(5901),a=n(9291),o=n(7122),i=n(1869);e.exports=function(e){return r(e)||a(e)||o(e)||i()},e.exports.__esModule=!0,e.exports.default=e.exports},9045:(e,t,n)=>{var r=n(3738).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},7736:(e,t,n)=>{var r=n(3738).default,a=n(9045);e.exports=function(e){var t=a(e,"string");return"symbol"==r(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},3738:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},7122:(e,t,n)=>{var r=n(79);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},1837:(e,t,n)=>{var r=n(3072),a=n(5636),o=n(691),i=n(9646);function s(t){var n="function"==typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!o(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return i(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),a(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},6942:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=i(e,o(n)))}return e}function o(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=i(t,n));return t}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},45:e=>{"use strict";e.exports=JSON.parse('{"apiVersion":2,"name":"wc-stripe/link-block","version":"1.0.0","title":"Stripe Link block","category":"woocommerce","description":"Adds a Stripe Link integration to the checkout block","supports":{"html":false,"align":false,"multiple":false,"reusable":false},"parent":["woocommerce/checkout-fields-block"],"attributes":{"lock":{"type":"object","default":{"remove":true,"move":true}}},"textdomain":"woo-stripe-payment"}')}}]);
//# sourceMappingURL=commons.js.map