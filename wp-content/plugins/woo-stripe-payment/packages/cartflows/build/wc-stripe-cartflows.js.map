{"version":3,"file":"wc-stripe-cartflows.js","mappings":"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","sources":["webpack://wc_stripe/./node_modules/@stripe/stripe-js/dist/stripe.esm.js","webpack://wc_stripe/external window \"jQuery\"","webpack://wc_stripe/external window \"regeneratorRuntime\"","webpack://wc_stripe/external window [\"wp\",\"apiFetch\"]","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/interopRequireDefault.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/objectWithoutProperties.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/toPrimitive.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/toPropertyKey.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/typeof.js","webpack://wc_stripe/webpack/bootstrap","webpack://wc_stripe/webpack/runtime/define property getters","webpack://wc_stripe/webpack/runtime/hasOwnProperty shorthand","webpack://wc_stripe/webpack/runtime/make namespace object","webpack://wc_stripe/./packages/cartflows/assets/js/index.js"],"sourcesContent":["var V3_URL = 'https://js.stripe.com/v3';\nvar V3_URL_REGEX = /^https:\\/\\/js\\.stripe\\.com\\/v3\\/?(\\?.*)?$/;\nvar EXISTING_SCRIPT_MESSAGE = 'loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used';\nvar findScript = function findScript() {\n  var scripts = document.querySelectorAll(\"script[src^=\\\"\".concat(V3_URL, \"\\\"]\"));\n\n  for (var i = 0; i < scripts.length; i++) {\n    var script = scripts[i];\n\n    if (!V3_URL_REGEX.test(script.src)) {\n      continue;\n    }\n\n    return script;\n  }\n\n  return null;\n};\n\nvar injectScript = function injectScript(params) {\n  var queryString = params && !params.advancedFraudSignals ? '?advancedFraudSignals=false' : '';\n  var script = document.createElement('script');\n  script.src = \"\".concat(V3_URL).concat(queryString);\n  var headOrBody = document.head || document.body;\n\n  if (!headOrBody) {\n    throw new Error('Expected document.body not to be null. Stripe.js requires a <body> element.');\n  }\n\n  headOrBody.appendChild(script);\n  return script;\n};\n\nvar registerWrapper = function registerWrapper(stripe, startTime) {\n  if (!stripe || !stripe._registerWrapper) {\n    return;\n  }\n\n  stripe._registerWrapper({\n    name: 'stripe-js',\n    version: \"1.54.2\",\n    startTime: startTime\n  });\n};\n\nvar stripePromise = null;\nvar loadScript = function loadScript(params) {\n  // Ensure that we only attempt to load Stripe.js at most once\n  if (stripePromise !== null) {\n    return stripePromise;\n  }\n\n  stripePromise = new Promise(function (resolve, reject) {\n    if (typeof window === 'undefined' || typeof document === 'undefined') {\n      // Resolve to null when imported server side. This makes the module\n      // safe to import in an isomorphic code base.\n      resolve(null);\n      return;\n    }\n\n    if (window.Stripe && params) {\n      console.warn(EXISTING_SCRIPT_MESSAGE);\n    }\n\n    if (window.Stripe) {\n      resolve(window.Stripe);\n      return;\n    }\n\n    try {\n      var script = findScript();\n\n      if (script && params) {\n        console.warn(EXISTING_SCRIPT_MESSAGE);\n      } else if (!script) {\n        script = injectScript(params);\n      }\n\n      script.addEventListener('load', function () {\n        if (window.Stripe) {\n          resolve(window.Stripe);\n        } else {\n          reject(new Error('Stripe.js not available'));\n        }\n      });\n      script.addEventListener('error', function () {\n        reject(new Error('Failed to load Stripe.js'));\n      });\n    } catch (error) {\n      reject(error);\n      return;\n    }\n  });\n  return stripePromise;\n};\nvar initStripe = function initStripe(maybeStripe, args, startTime) {\n  if (maybeStripe === null) {\n    return null;\n  }\n\n  var stripe = maybeStripe.apply(undefined, args);\n  registerWrapper(stripe, startTime);\n  return stripe;\n}; // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n\n// own script injection.\n\nvar stripePromise$1 = Promise.resolve().then(function () {\n  return loadScript(null);\n});\nvar loadCalled = false;\nstripePromise$1[\"catch\"](function (err) {\n  if (!loadCalled) {\n    console.warn(err);\n  }\n});\nvar loadStripe = function loadStripe() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  loadCalled = true;\n  var startTime = Date.now();\n  return stripePromise$1.then(function (maybeStripe) {\n    return initStripe(maybeStripe, args, startTime);\n  });\n};\n\nexport { loadStripe };\n","module.exports = window[\"jQuery\"];","module.exports = window[\"regeneratorRuntime\"];","module.exports = window[\"wp\"][\"apiFetch\"];","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}\nmodule.exports = _asyncToGenerator, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\nmodule.exports = _interopRequireDefault, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose.js\");\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nmodule.exports = _objectWithoutProperties, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  for (var key in source) {\n    if (Object.prototype.hasOwnProperty.call(source, key)) {\n      if (excluded.indexOf(key) >= 0) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nmodule.exports = _objectWithoutPropertiesLoose, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nmodule.exports = toPrimitive, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar toPrimitive = require(\"./toPrimitive.js\");\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nmodule.exports = toPropertyKey, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import $ from 'jquery';\nimport {loadStripe} from '@stripe/stripe-js';\nimport apiFetch from \"@wordpress/api-fetch\";\n\nconst data = cartflows_offer.stripeData;\nconst getStripe = new Promise(resolve => {\n    loadStripe(data.key, (() => data.accountId ? {stripeAccount: data.accountId} : {})()).then(stripe => {\n        resolve(stripe);\n    }).catch(error => {\n        resolve(false);\n    })\n});\n\nlet currentButton;\n\nconst initialize = () => {\n    window.addEventListener('hashchange', handleHashChange);\n    $(document.body).on('click', 'a[href*=\"wcf-up-offer\"], a[href*=\"wcf-down-offer\"]', handleButtonClick);\n}\n\nconst handleButtonClick = (e) => {\n    currentButton = $(e.currentTarget);\n}\n\nconst handleHashChange = async (e) => {\n    var match = e.newURL.match(/response=(.*)/);\n    if (match) {\n        try {\n            var obj = JSON.parse(window.atob(decodeURIComponent(match[1])));\n            if (obj && obj.hasOwnProperty('client_secret')) {\n                history.pushState({}, '', window.location.pathname + window.location.search);\n                handleCardAction(obj);\n            }\n        } catch (err) {\n\n        }\n    }\n    return true;\n}\n\nconst handleCardAction = async ({client_secret, ...props}) => {\n    const stripe = await getStripe;\n    stripe.handleCardAction(client_secret).then(result => {\n        if (result.error) {\n            $('body').trigger('wcf-update-msg', [result.error.message, 'wcf-payment-error']);\n            setTimeout(() => {\n                $(document.body).trigger('wcf-hide-loader')\n                $(document.body).trigger('wcf-update-msg', [data.msg, 'wcf-payment-success']);\n            }, data.timeout);\n            syncPaymentIntent({client_secret, ...props});\n        } else {\n            triggerOfferClick();\n        }\n    })\n}\n\nconst triggerOfferClick = () => {\n    currentButton.click();\n}\n\nconst syncPaymentIntent = (data) => {\n    return new Promise((resolve, reject) => {\n        apiFetch({\n            path: '/wc-stripe/v1/cartflows/payment-intent',\n            method: 'POST',\n            data\n        }).then(response => {\n        }).catch(err => {\n        });\n    });\n}\n\ninitialize();"],"names":["V3_URL","V3_URL_REGEX","EXISTING_SCRIPT_MESSAGE","stripePromise","stripePromise$1","Promise","resolve","then","params","reject","window","document","Stripe","console","warn","script","scripts","querySelectorAll","concat","i","length","test","src","findScript","queryString","advancedFraudSignals","createElement","headOrBody","head","body","Error","appendChild","injectScript","addEventListener","error","loadCalled","err","loadStripe","_len","arguments","args","Array","_key","startTime","Date","now","maybeStripe","stripe","apply","undefined","_registerWrapper","name","version","registerWrapper","initStripe","module","exports","asyncGeneratorStep","gen","_next","_throw","key","arg","info","value","done","fn","self","this","__esModule","toPropertyKey","obj","Object","defineProperty","enumerable","configurable","writable","objectWithoutPropertiesLoose","source","excluded","target","getOwnPropertySymbols","sourceSymbolKeys","indexOf","prototype","propertyIsEnumerable","call","hasOwnProperty","_typeof","t","r","e","Symbol","toPrimitive","TypeError","String","Number","o","iterator","constructor","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","d","definition","get","prop","toStringTag","_jquery","_interopRequireDefault","require","_stripeJs","_apiFetch","_excluded","ownKeys","keys","filter","getOwnPropertyDescriptor","push","_objectSpread","forEach","_defineProperty2","default","getOwnPropertyDescriptors","defineProperties","currentButton","data","cartflows_offer","stripeData","getStripe","accountId","stripeAccount","catch","handleHashChange","_ref","_asyncToGenerator2","_regenerator","mark","_callee","match","wrap","_context","prev","next","newURL","JSON","parse","atob","decodeURIComponent","history","pushState","location","pathname","search","handleCardAction","abrupt","stop","_x","_ref3","_callee2","_ref2","client_secret","props","_context2","_objectWithoutProperties2","sent","result","$","trigger","message","setTimeout","msg","timeout","syncPaymentIntent","triggerOfferClick","_x2","click","apiFetch","path","method","response","on","currentTarget"],"sourceRoot":""}