{"version":3,"file":"affirm-message.js","mappings":"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","sources":["webpack://wcStripeModules/webpack/runtime/chunk loaded","webpack://wcStripeModules/./assets/js/frontend/bnpl-messages/affirm/index.js","webpack://wcStripeModules/external window [\"wcStripeModules\",\"checkoutModules\"]","webpack://wcStripeModules/external window [\"wcStripeModules\",\"messageModules\"]","webpack://wcStripeModules/external window [\"wc_stripe\"]","webpack://wcStripeModules/webpack/bootstrap","webpack://wcStripeModules/webpack/runtime/hasOwnProperty shorthand","webpack://wcStripeModules/webpack/runtime/jsonp chunk loading","webpack://wcStripeModules/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","import {BaseGateway, ProductGateway, stripe} from '@paymentplugins/wc-stripe';\nimport {getPaymentMethod} from '@paymentplugins/wc-stripe/checkout';\nimport {\n    CartMessage,\n    CheckoutMessage,\n    CategoryMessage,\n    ProductMessage\n} from '@paymentplugins/wc-stripe/message-modules';\n\nconst elementType = 'affirmMessage';\nconst isSupported = (gateway) => {\n    const currency = gateway?.get_gateway_data()?.currency;\n    return gateway?.params?.supportedCurrencies?.includes(currency);\n}\n\nclass AffirmGateway extends BaseGateway {\n    constructor(params) {\n        super(params);\n    }\n};\n\nif (typeof wc_stripe_affirm_cart_params !== 'undefined') {\n    new CartMessage(new AffirmGateway(wc_stripe_affirm_cart_params), {\n        elementType,\n        elementId: 'wc-stripe-affirm-cart-msg',\n        containerId: 'wc-stripe-affirm-cart-container',\n        isSupported\n    });\n}\nif (typeof wc_stripe_affirm_product_params !== 'undefined') {\n    Object.assign(AffirmGateway.prototype, ProductGateway.prototype);\n    new ProductMessage(new AffirmGateway(wc_stripe_affirm_product_params), {\n        elementType,\n        elementId: 'wc-stripe-affirm-product-msg',\n        isSupported\n    });\n}\nif (typeof wc_stripe_local_payment_params !== 'undefined') {\n    if (wc_stripe_local_payment_params?.gateways?.stripe_affirm) {\n        new CheckoutMessage(getPaymentMethod('stripe_affirm'), {\n            elementType,\n            elementId: 'wc-stripe-affirm-message-container',\n            isSupported\n        });\n    }\n}\nif (typeof wc_stripe_bnpl_shop_params !== 'undefined') {\n    new CategoryMessage(\n        stripe,\n        wc_stripe_bnpl_shop_params,\n        {\n            id: 'stripe_affirm',\n            elementType,\n            isSupported: (instance) => {\n                const {currency} = instance.data;\n                return instance.data.stripe_affirm.supportedCurrencies.includes(currency);\n            }\n        });\n}","module.exports = window[\"wcStripeModules\"][\"checkoutModules\"];","module.exports = window[\"wcStripeModules\"][\"messageModules\"];","module.exports = window[\"wc_stripe\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t419: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkwcStripeModules\"] = self[\"webpackChunkwcStripeModules\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [96], () => (__webpack_require__(696)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","_wcStripe","require","_checkout","_messageModules","_callSuper","t","o","e","_getPrototypeOf2","default","_possibleConstructorReturn2","_isNativeReflectConstruct","Reflect","construct","constructor","apply","Boolean","prototype","valueOf","call","_wc_stripe_local_paym","elementType","isSupported","gateway","_gateway$get_gateway_","_gateway$params","currency","get_gateway_data","params","supportedCurrencies","includes","AffirmGateway","_BaseGateway","_classCallCheck2","_inherits2","_createClass2","BaseGateway","wc_stripe_affirm_cart_params","CartMessage","elementId","containerId","wc_stripe_affirm_product_params","Object","assign","ProductGateway","ProductMessage","wc_stripe_local_payment_params","gateways","stripe_affirm","CheckoutMessage","getPaymentMethod","wc_stripe_bnpl_shop_params","CategoryMessage","stripe","id","instance","data","module","exports","window","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","m","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","length","fulfilled","j","keys","every","key","splice","r","obj","prop","hasOwnProperty","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","forEach","bind","push","__webpack_exports__"],"sourceRoot":""}